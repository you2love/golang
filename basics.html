<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŸºç¡€è¯­æ³• - Go å­¦ä¹ æ•™ç¨‹</title>
    <link rel="stylesheet" href="styles.css?v=1.3">
    <script src="scroll.js"></script>
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <h3>ğŸ“š å­¦ä¹ ç›®å½•</h3>
            <ul>
                <li><a href="index.html">ğŸ  é¦–é¡µ</a></li>
                
                                <li class="level-1">
                    <span class="level-badge">é˜¶æ®µä¸€ï¼šå…¥é—¨</span>
                </li>
                <li class="nav-item">
                    <a href="introduction.html"><span>ğŸ“– 1. Go è¯­è¨€ç®€ä»‹</span><span class="nav-toggle">â–¼</span></a>
                    <ul class="nav-submenu">
                        <li><a href="introduction.html#history">Go çš„å†å²</a></li>
                        <li><a href="introduction.html#features">Go çš„ç‰¹ç‚¹</a></li>
                        <li><a href="introduction.html#install">å®‰è£…ä¸é…ç½®</a></li>
                        <li><a href="introduction.html#helloworld">Hello World</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a href="basics.html"><span>ğŸ”¤ 2. åŸºç¡€è¯­æ³•</span><span class="nav-toggle">â–¼</span></a>
                    <ul class="nav-submenu">
                        <li><a href="basics.html#variables">å˜é‡å£°æ˜</a></li>
                        <li><a href="basics.html#datatypes">æ•°æ®ç±»å‹</a></li>
                        <li><a href="basics.html#operators">è¿ç®—ç¬¦</a></li>
                        <li><a href="basics.html#arrays">æ•°ç»„ä¸åˆ‡ç‰‡</a></li>
                        <li><a href="basics.html#maps">æ˜ å°„</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a href="control-flow.html"><span>ğŸ”„ 3. æ§åˆ¶æµ</span><span class="nav-toggle">â–¼</span></a>
                    <ul class="nav-submenu">
                        <li><a href="control-flow.html#if">if è¯­å¥</a></li>
                        <li><a href="control-flow.html#switch">switch è¯­å¥</a></li>
                        <li><a href="control-flow.html#for">for å¾ªç¯</a></li>
                        <li><a href="control-flow.html#defer">defer è¯­å¥</a></li>
                    </ul>
                </li>
                <li class="level-1">
                    <span class="level-badge">é˜¶æ®µäºŒï¼šè¿›é˜¶</span>
                </li>
                <li class="nav-item">
                    <a href="functions.html"><span>âš¡ 4. å‡½æ•°</span><span class="nav-toggle">â–¼</span></a>
                    <ul class="nav-submenu">
                        <li><a href="functions.html#basic">åŸºæœ¬å‡½æ•°</a></li>
                        <li><a href="functions.html#multiple">å¤šè¿”å›å€¼</a></li>
                        <li><a href="functions.html#variadic">å¯å˜å‚æ•°</a></li>
                        <li><a href="functions.html#closure">é—­åŒ…</a></li>
                        <li><a href="functions.html#methods">æ–¹æ³•</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a href="structs.html"><span>ğŸ—ï¸ 5. ç»“æ„ä½“ä¸æ¥å£</span><span class="nav-toggle">â–¼</span></a>
                    <ul class="nav-submenu">
                        <li><a href="structs.html#struct">ç»“æ„ä½“</a></li>
                        <li><a href="structs.html#nested">åµŒå¥—ç»“æ„ä½“</a></li>
                        <li><a href="structs.html#methods">ç»“æ„ä½“æ–¹æ³•</a></li>
                        <li><a href="structs.html#interface">æ¥å£</a></li>
                        <li><a href="structs.html#tags">ç»“æ„ä½“æ ‡ç­¾</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a href="modules.html"><span>ğŸ“¦ 6. æ¨¡å—åŒ–ä¸ Go Module</span><span class="nav-toggle">â–¼</span></a>
                    <ul class="nav-submenu">
                        <li><a href="modules.html#introduction">Go Module ç®€ä»‹</a></li>
                        <li><a href="modules.html#init">åˆå§‹åŒ– Module</a></li>
                        <li><a href="modules.html#dependency">ä¾èµ–ç®¡ç†</a></li>
                        <li><a href="modules.html#version">ç‰ˆæœ¬æ§åˆ¶</a></li>
                        <li><a href="modules.html#private">ç§æœ‰ Module</a></li>
                    </ul>
                </li>
                <li class="level-1">
                    <span class="level-badge">é˜¶æ®µä¸‰ï¼šé«˜çº§</span>
                </li>
                <li class="nav-item">
                    <a href="concurrency.html"><span>ğŸš€ 8. å¹¶å‘ç¼–ç¨‹</span><span class="nav-toggle">â–¼</span></a>
                    <ul class="nav-submenu">
                        <li><a href="concurrency.html#goroutine">Goroutine</a></li>
                        <li><a href="concurrency.html#channel">Channel</a></li>
                        <li><a href="concurrency.html#select">Select</a></li>
                        <li><a href="concurrency.html#mutex">äº’æ–¥é”</a></li>
                        <li><a href="concurrency.html#context">Context</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a href="stdlib.html"><span>ğŸ“š 9. å¸¸ç”¨æ ‡å‡†åº“</span><span class="nav-toggle">â–¼</span></a>
                    <ul class="nav-submenu">
                        <li><a href="stdlib.html#regexp">regexp æ­£åˆ™è¡¨è¾¾å¼</a></li>
                        <li><a href="stdlib.html#sync">sync å¹¶å‘åŸè¯­</a></li>
                        <li><a href="stdlib.html#json">json æ•°æ®ç¼–ç </a></li>
                        <li><a href="stdlib.html#time">time æ—¶é—´å¤„ç†</a></li>
                        <li><a href="stdlib.html#io">io è¾“å…¥è¾“å‡º</a></li>
                        <li><a href="stdlib.html#bufio">bufio ç¼“å†² I/O</a></li>
                        <li><a href="stdlib.html#exp">exp å®éªŒæ€§åº“</a></li>
                        <li><a href="stdlib.html#embed">embed æ–‡ä»¶åµŒå…¥</a></li>
                        <li><a href="stdlib.html#bestpractices">æœ€ä½³å®è·µ</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a href="tips.html"><span>ğŸ’¡ 10. å¸¸ç”¨æŠ€å·§ä¸æœ€ä½³å®è·µ</span><span class="nav-toggle">â–¼</span></a>
                    <ul class="nav-submenu">
                        <li><a href="tips.html#idioms">æƒ¯ç”¨æ¨¡å¼</a></li>
                        <li><a href="tips.html#performance">æ€§èƒ½ä¼˜åŒ–</a></li>
                        <li><a href="tips.html#error">é”™è¯¯å¤„ç†</a></li>
                        <li><a href="tips.html#testing">æµ‹è¯•æŠ€å·§</a></li>
                        <li><a href="tips.html#debug">è°ƒè¯•æŠ€å·§</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a href="ecosystem.html"><span>ğŸŒ 11. ç¤¾åŒºåº“</span><span class="nav-toggle">â–¼</span></a>
                    <ul class="nav-submenu">
                        <li><a href="ecosystem.html#gin">Gin Web æ¡†æ¶</a></li>
                        <li><a href="ecosystem.html#gorm">GORM ORM</a></li>
                        <li><a href="ecosystem.html#viper">Viper é…ç½®</a></li>
                        <li><a href="ecosystem.html#zap">Zap æ—¥å¿—</a></li>
                        <li><a href="ecosystem.html#validator">Validator å‚æ•°æ ¡éªŒ</a></li>
                        <li><a href="ecosystem.html#cobra">Cobra å‘½ä»¤è¡Œå·¥å…·</a></li>
                        <li><a href="ecosystem.html#gomicro">Go-Micro å¾®æœåŠ¡</a></li>
                        <li><a href="ecosystem.html#etcd">Etcd åˆ†å¸ƒå¼å­˜å‚¨</a></li>
                                                <li><a href="ecosystem.html#protobuf">Protobuf æ•°æ®åºåˆ—åŒ–</a></li>
                        <li><a href="ecosystem.html#redis">Redis å®¢æˆ·ç«¯</a></li>
                        <li><a href="ecosystem.html#mysql">MySQL å®¢æˆ·ç«¯</a></li>
                        <li><a href="ecosystem.html#bestpractices">æœ€ä½³å®è·µ</a></li>
                    </ul>
                </li><span class="nav-toggle">â–¼</span></a>
                    <ul class="nav-submenu">
                        <li><a href="generics.html#functions">æ³›å‹å‡½æ•°</a></li>
                        <li><a href="generics.html#types">æ³›å‹ç±»å‹</a></li>
                        <li><a href="generics.html#constraints">ç±»å‹çº¦æŸ</a></li>
                        <li><a href="generics.html#inference">ç±»å‹æ¨æ–­</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a href="reflection.html"><span>ğŸ” 13. åå°„</span><span class="nav-toggle">â–¼</span></a>
                    <ul class="nav-submenu">
                        <li><a href="reflection.html#typevalue">Type å’Œ Value</a></li>
                        <li><a href="reflection.html#struct">ç»“æ„ä½“åå°„</a></li>
                        <li><a href="reflection.html#modify">ä¿®æ”¹å€¼</a></li>
                        <li><a href="reflection.html#methods">è°ƒç”¨æ–¹æ³•</a></li>
                        <li><a href="reflection.html#performance">æ€§èƒ½è€ƒè™‘</a></li>
                    </ul>
                </li>

        </aside>
        <div class="content">
            <a href="index.html" class="back-link">â† è¿”å›é¦–é¡µ</a>
            <h1>åŸºç¡€è¯­æ³•</h1>

            <h2 id="variables">å˜é‡å£°æ˜</h2>
            <p>Go è¯­è¨€æœ‰å¤šç§å£°æ˜å˜é‡çš„æ–¹å¼ï¼š</p>

            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="function">func</span> <span class="function">main</span>() {
    <span class="comment">// æ–¹å¼1ï¼šä½¿ç”¨ var å…³é”®å­—</span>
    <span class="keyword">var</span> name <span class="keyword">string</span> = <span class="string">"Go"</span>
    <span class="keyword">var</span> age <span class="keyword">int</span> = <span class="number">10</span>

    <span class="comment">// æ–¹å¼2ï¼šç±»å‹æ¨æ–­</span>
    <span class="keyword">var</span> language = <span class="string">"Golang"</span>

    <span class="comment">// æ–¹å¼3ï¼šçŸ­å˜é‡å£°æ˜ï¼ˆæœ€å¸¸ç”¨ï¼‰</span>
    version := <span class="string">"1.21"</span>

    <span class="comment">// æ–¹å¼4ï¼šå£°æ˜å¤šä¸ªå˜é‡</span>
    <span class="keyword">var</span> (
        x <span class="keyword">int</span> = <span class="number">1</span>
        y <span class="keyword">int</span> = <span class="number">2</span>
    )

    fmt.<span class="function">Println</span>(name, age, language, version, x, y)
}</code></pre>

            <h2 id="datatypes">åŸºæœ¬æ•°æ®ç±»å‹</h2>

            <h3>æ•°å€¼ç±»å‹</h3>
            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="function">func</span> <span class="function">main</span>() {
    <span class="comment">// æ•´å‹</span>
    <span class="keyword">var</span> i <span class="keyword">int</span> = <span class="number">42</span>
    <span class="keyword">var</span> i8 <span class="keyword">int8</span> = <span class="number">127</span>
    <span class="keyword">var</span> i16 <span class="keyword">int16</span> = <span class="number">32767</span>
    <span class="keyword">var</span> i32 <span class="keyword">int32</span> = <span class="number">2147483647</span>
    <span class="keyword">var</span> i64 <span class="keyword">int64</span> = <span class="number">9223372036854775807</span>

    <span class="comment">// æ— ç¬¦å·æ•´å‹</span>
    <span class="keyword">var</span> u <span class="keyword">uint</span> = <span class="number">42</span>
    <span class="keyword">var</span> u8 <span class="keyword">uint8</span> = <span class="number">255</span>
    <span class="keyword">var</span> u16 <span class="keyword">uint16</span> = <span class="number">65535</span>
    <span class="keyword">var</span> u32 <span class="keyword">uint32</span> = <span class="number">4294967295</span>
    <span class="keyword">var</span> u64 <span class="keyword">uint64</span> = <span class="number">18446744073709551615</span>

    <span class="comment">// æµ®ç‚¹å‹</span>
    <span class="keyword">var</span> f32 <span class="keyword">float32</span> = <span class="number">3.14</span>
    <span class="keyword">var</span> f64 <span class="keyword">float64</span> = <span class="number">3.141592653589793</span>

    <span class="comment">// å¤æ•°</span>
    <span class="keyword">var</span> c64 <span class="keyword">complex64</span> = <span class="number">1</span> + <span class="number">2i</span>
    <span class="keyword">var</span> c128 <span class="keyword">complex128</span> = <span class="number">1</span> + <span class="number">2i</span>

    fmt.<span class="function">Println</span>(i, i8, i16, i32, i64)
    fmt.<span class="function">Println</span>(u, u8, u16, u32, u64)
    fmt.<span class="function">Println</span>(f32, f64)
    fmt.<span class="function">Println</span>(c64, c128)
}</code></pre>

            <h3>å­—ç¬¦ä¸²å’Œå¸ƒå°”ç±»å‹</h3>
            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="function">func</span> <span class="function">main</span>() {
    <span class="comment">// å­—ç¬¦ä¸²</span>
    <span class="keyword">var</span> str <span class="keyword">string</span> = <span class="string">"Hello, Go!"</span>
    message := <span class="string">"Welcome to Go programming"</span>

    <span class="comment">// å¤šè¡Œå­—ç¬¦ä¸²</span>
    multiline := <span class="string">`è¿™æ˜¯ä¸€ä¸ª
å¤šè¡Œå­—ç¬¦ä¸²
ç¤ºä¾‹`</span>

    <span class="comment">// å¸ƒå°”ç±»å‹</span>
    <span class="keyword">var</span> isTrue <span class="keyword">bool</span> = <span class="keyword">true</span>
    isFalse := <span class="keyword">false</span>

    fmt.<span class="function">Println</span>(str)
    fmt.<span class="function">Println</span>(message)
    fmt.<span class="function">Println</span>(multiline)
    fmt.<span class="function">Println</span>(isTrue, isFalse)
}</code></pre>

            <h2 id="constants">å¸¸é‡</h2>
            <p>å¸¸é‡ä½¿ç”¨ <code>const</code> å…³é”®å­—å£°æ˜ï¼Œå€¼åœ¨ç¼–è¯‘æ—¶ç¡®å®šä¸”ä¸å¯ä¿®æ”¹ã€‚</p>

            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="function">func</span> <span class="function">main</span>() {
    <span class="comment">// å•ä¸ªå¸¸é‡</span>
    <span class="keyword">const</span> PI = <span class="number">3.14159</span>
    <span class="keyword">const</span> MaxConnections = <span class="number">100</span>

    <span class="comment">// å¸¸é‡ç»„</span>
    <span class="keyword">const</span> (
        StatusOK       = <span class="number">200</span>
        StatusNotFound = <span class="number">404</span>
        StatusError    = <span class="number">500</span>
    )

    fmt.<span class="function">Println</span>(PI, MaxConnections)
    fmt.<span class="function">Println</span>(StatusOK, StatusNotFound, StatusError)
}</code></pre>

            <h2 id="operators">è¿ç®—ç¬¦</h2>

            <h3>ç®—æœ¯è¿ç®—ç¬¦</h3>
            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="function">func</span> <span class="function">main</span>() {
    a, b := <span class="number">10</span>, <span class="number">3</span>

    fmt.<span class="function">Println</span>(<span class="string">"åŠ æ³•:"</span>, a + b)    <span class="comment">// 13</span>
    fmt.<span class="function">Println</span>(<span class="string">"å‡æ³•:"</span>, a - b)    <span class="comment">// 7</span>
    fmt.<span class="function">Println</span>(<span class="string">"ä¹˜æ³•:"</span>, a * b)    <span class="comment">// 30</span>
    fmt.<span class="function">Println</span>(<span class="string">"é™¤æ³•:"</span>, a / b)    <span class="comment">// 3</span>
    fmt.<span class="function">Println</span>(<span class="string">"å–ä½™:"</span>, a % b)    <span class="comment">// 1</span>
}</code></pre>

            <h3>æ¯”è¾ƒè¿ç®—ç¬¦</h3>
            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="function">func</span> <span class="function">main</span>() {
    a, b := <span class="number">10</span>, <span class="number">20</span>

    fmt.<span class="function">Println</span>(<span class="string">"ç­‰äº:"</span>, a == b)  <span class="comment">// false</span>
    fmt.<span class="function">Println</span>(<span class="string">"ä¸ç­‰äº:"</span>, a != b)  <span class="comment">// true</span>
    fmt.<span class="function">Println</span>(<span class="string">"å°äº:"</span>, a < b)   <span class="comment">// true</span>
    fmt.<span class="function">Println</span>(<span class="string">"å°äºç­‰äº:"</span>, a <= b) <span class="comment">// true</span>
    fmt.<span class="function">Println</span>(<span class="string">"å¤§äº:"</span>, a > b)   <span class="comment">// false</span>
    fmt.<span class="function">Println</span>(<span class="string">"å¤§äºç­‰äº:"</span>, a >= b) <span class="comment">// false</span>
}</code></pre>

            <h3>é€»è¾‘è¿ç®—ç¬¦</h3>
            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="function">func</span> <span class="function">main</span>() {
    a, b := <span class="keyword">true</span>, <span class="keyword">false</span>

    fmt.<span class="function">Println</span>(<span class="string">"ä¸:"</span>, a && b)  <span class="comment">// false</span>
    fmt.<span class="function">Println</span>(<span class="string">"æˆ–:"</span>, a || b)  <span class="comment">// true</span>
    fmt.<span class="function">Println</span>(<span class="string">"é:"</span>, !a)     <span class="comment">// false</span>
}</code></pre>

            <h2 id="strings">å­—ç¬¦ä¸²æ“ä½œ</h2>
            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> (
    <span class="string">"fmt"</span>
    <span class="string">"strings"</span>
)

<span class="function">func</span> <span class="function">main</span>() {
    str := <span class="string">"Hello, Go Programming!"</span>

    <span class="comment">// å­—ç¬¦ä¸²é•¿åº¦</span>
    fmt.<span class="function">Println</span>(<span class="string">"é•¿åº¦:"</span>, <span class="function">len</span>(str))

    <span class="comment">// å­—ç¬¦ä¸²æ‹¼æ¥</span>
    str2 := str + <span class="string">" Welcome!"</span>
    fmt.<span class="function">Println</span>(<span class="string">"æ‹¼æ¥:"</span>, str2)

    <span class="comment">// å­—ç¬¦ä¸²åˆ†å‰²</span>
    parts := strings.<span class="function">Split</span>(str, <span class="string">", "</span>)
    fmt.<span class="function">Println</span>(<span class="string">"åˆ†å‰²:"</span>, parts)

    <span class="comment">// å­—ç¬¦ä¸²åŒ…å«</span>
    fmt.<span class="function">Println</span>(<span class="string">"åŒ…å« Go:"</span>, strings.<span class="function">Contains</span>(str, <span class="string">"Go"</span>))

    <span class="comment">// å­—ç¬¦ä¸²æ›¿æ¢</span>
    replaced := strings.<span class="function">Replace</span>(str, <span class="string">"Go"</span>, <span class="string">"Golang"</span>, <span class="number">1</span>)
    fmt.<span class="function">Println</span>(<span class="string">"æ›¿æ¢:"</span>, replaced)

    <span class="comment">// å¤§å°å†™è½¬æ¢</span>
    fmt.<span class="function">Println</span>(<span class="string">"å¤§å†™:"</span>, strings.<span class="function">ToUpper</span>(str))
    fmt.<span class="function">Println</span>(<span class="string">"å°å†™:"</span>, strings.<span class="function">ToLower</span>(str))

    <span class="comment">// å»é™¤ç©ºæ ¼</span>
    str3 := <span class="string">"  Hello  "</span>
    fmt.<span class="function">Println</span>(<span class="string">"å»é™¤ç©ºæ ¼:"</span>, strings.<span class="function">Trim</span>(str3, <span class="string">" "</span>))
}</code></pre>

            <h2 id="arrays">æ•°ç»„</h2>
            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="function">func</span> <span class="function">main</span>() {
    <span class="comment">// å£°æ˜æ•°ç»„</span>
    <span class="keyword">var</span> arr1 [<span class="number">5</span>]<span class="keyword">int</span>
    arr1[<span class="number">0</span>] = <span class="number">1</span>
    arr1[<span class="number">1</span>] = <span class="number">2</span>

    <span class="comment">// æ•°ç»„åˆå§‹åŒ–</span>
    arr2 := [<span class="number">5</span>]<span class="keyword">int</span>{<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>

    <span class="comment">// è®©ç¼–è¯‘å™¨è®¡ç®—é•¿åº¦</span>
    arr3 := [...]<span class="keyword">int</span>{<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>}

    fmt.<span class="function">Println</span>(<span class="string">"æ•°ç»„1:"</span>, arr1)
    fmt.<span class="function">Println</span>(<span class="string">"æ•°ç»„2:"</span>, arr2)
    fmt.<span class="function">Println</span>(<span class="string">"æ•°ç»„3:"</span>, arr3)
    fmt.<span class="function">Println</span>(<span class="string">"æ•°ç»„2é•¿åº¦:"</span>, <span class="function">len</span>(arr2))
}</code></pre>

            <h2 id="slices">åˆ‡ç‰‡ï¼ˆSliceï¼‰</h2>
            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="function">func</span> <span class="function">main</span>() {
    <span class="comment">// åˆ›å»ºåˆ‡ç‰‡</span>
    slice1 := []<span class="keyword">int</span>{<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>

    <span class="comment">// ä½¿ç”¨ make åˆ›å»ºåˆ‡ç‰‡</span>
    slice2 := <span class="function">make</span>([]<span class="keyword">int</span>, <span class="number">3</span>, <span class="number">5</span>)

    <span class="comment">// åˆ‡ç‰‡æ“ä½œ</span>
    fmt.<span class="function">Println</span>(<span class="string">"å®Œæ•´åˆ‡ç‰‡:"</span>, slice1)
    fmt.<span class="function">Println</span>(<span class="string">"å­åˆ‡ç‰‡ [1:3]:"</span>, slice1[<span class="number">1</span>:<span class="number">3</span>])
    fmt.<span class="function">Println</span>(<span class="string">"å­åˆ‡ç‰‡ [:3]:"</span>, slice1[:<span class="number">3</span>])
    fmt.<span class="function">Println</span>(<span class="string">"å­åˆ‡ç‰‡ [2:]:"</span>, slice1[<span class="number">2</span>:])

    <span class="comment">// æ·»åŠ å…ƒç´ </span>
    slice1 = <span class="function">append</span>(slice1, <span class="number">6</span>, <span class="number">7</span>)
    fmt.<span class="function">Println</span>(<span class="string">"è¿½åŠ å:"</span>, slice1)

    <span class="comment">// åˆ‡ç‰‡é•¿åº¦å’Œå®¹é‡</span>
    fmt.<span class="function">Println</span>(<span class="string">"é•¿åº¦:"</span>, <span class="function">len</span>(slice1))
    fmt.<span class="function">Println</span>(<span class="string">"å®¹é‡:"</span>, <span class="function">cap</span>(slice1))
}</code></pre>

            <div class="note-box">
                <h3>åˆ‡ç‰‡çš„å†…éƒ¨ç»“æ„</h3>
                <p>åˆ‡ç‰‡åœ¨ Go å†…éƒ¨æ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼ŒåŒ…å«ä¸‰ä¸ªå­—æ®µï¼š</p>
                <pre><code><span class="keyword">type</span> sliceHeader <span class="keyword">struct</span> {
    ptr unsafe.Pointer  <span class="comment">// æŒ‡å‘åº•å±‚æ•°ç»„çš„æŒ‡é’ˆ</span>
    len <span class="keyword">int</span>              <span class="comment">// åˆ‡ç‰‡é•¿åº¦ï¼ˆå¯è®¿é—®çš„å…ƒç´ æ•°é‡ï¼‰</span>
    cap <span class="keyword">int</span>              <span class="comment">// åˆ‡ç‰‡å®¹é‡ï¼ˆåº•å±‚æ•°ç»„ä» ptr å¼€å§‹çš„æ€»å¤§å°ï¼‰</span>
}</code></pre>
                <p>åˆ‡ç‰‡æ˜¯å¯¹åº•å±‚æ•°ç»„çš„å¼•ç”¨ï¼Œå¤šä¸ªåˆ‡ç‰‡å¯ä»¥å…±äº«åŒä¸€ä¸ªåº•å±‚æ•°ç»„ã€‚ä¿®æ”¹ä¸€ä¸ªåˆ‡ç‰‡ä¼šå½±å“å…¶ä»–å…±äº«åº•å±‚æ•°ç»„çš„åˆ‡ç‰‡ã€‚</p>
            </div>

            <div class="example-box">
                <h3>åˆ‡ç‰‡çš„å®ç°åŸç†</h3>
                <p><strong>1. åˆ‡ç‰‡çš„åˆ›å»ºï¼š</strong></p>
                <pre><code><span class="comment">// å­—é¢é‡åˆ›å»º</span>
s := []<span class="keyword">int</span>{<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>}  <span class="comment">// åˆ›å»ºåˆ‡ç‰‡å’Œåº•å±‚æ•°ç»„</span>

<span class="comment">// make åˆ›å»º</span>
s := <span class="function">make</span>([]<span class="keyword">int</span>, <span class="number">3</span>, <span class="number">5</span>)  <span class="comment">// len=3, cap=5</span>

<span class="comment">// ä»æ•°ç»„/åˆ‡ç‰‡åˆ›å»º</span>
arr := [<span class="number">5</span>]<span class="keyword">int</span>{<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>}
s := arr[<span class="number">1</span>:<span class="number">4</span>]  <span class="comment">// å…±äº« arr çš„åº•å±‚æ•°ç»„</span></code></pre>

                <p><strong>2. åˆ‡ç‰‡çš„æ‰©å®¹æœºåˆ¶ï¼š</strong></p>
                <p>å½“ä½¿ç”¨ append æ·»åŠ å…ƒç´ ä¸”å®¹é‡ä¸è¶³æ—¶ï¼ŒGo ä¼šè‡ªåŠ¨æ‰©å®¹ã€‚æ‰©å®¹ç­–ç•¥å¦‚ä¸‹ï¼š</p>
                <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="function">func</span> <span class="function">main</span>() {
    s := []<span class="keyword">int</span>{<span class="number">1</span>}
    fmt.<span class="function">Printf</span>(<span class="string">"len=%d, cap=%d
"</span>, <span class="function">len</span>(s), <span class="function">cap</span>(s))  <span class="comment">// len=1, cap=1</span>

    s = <span class="function">append</span>(s, <span class="number">2</span>)
    fmt.<span class="Function">Printf</span>(<span class="string">"len=%d, cap=%d
"</span>, <span class="function">len</span>(s), <span class="function">cap</span>(s))  <span class="comment">// len=2, cap=2</span>

    s = <span class="function">append</span>(s, <span class="number">3</span>)
    fmt.<span class="Function">Printf</span>(<span class="string">"len=%d, cap=%d
"</span>, <span class="function">len</span>(s), <span class="function">cap</span>(s))  <span class="comment">// len=3, cap=4 (æ‰©å®¹)</span>

    s = <span class="function">append</span>(s, <span class="number">4</span>, <span class="number">5</span>)
    fmt.<span class="Function">Printf</span>(<span class="string">"len=%d, cap=%d
"</span>, <span class="function">len</span>(s), <span class="function">cap</span>(s))  <span class="comment">// len=5, cap=8 (æ‰©å®¹)</span>
}</code></pre>
                <p>æ‰©å®¹è§„åˆ™ï¼ˆGo 1.20+ï¼‰ï¼š</p>
                <ul>
                    <li>æ–°å®¹é‡ â‰¥ 2Ã—æ—§å®¹é‡</li>
                    <li>æ–°å®¹é‡ â‰¥ æ—§å®¹é‡ + æ–°å…ƒç´ æ•°é‡</li>
                    <li>å¯¹äºå¤§åˆ‡ç‰‡ï¼Œæ‰©å®¹å› å­çº¦ä¸º 1.25</li>
                </ul>

                <p><strong>3. åˆ‡ç‰‡çš„å…±äº«é—®é¢˜ï¼š</strong></p>
                <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="function">func</span> <span class="function">main</span>() {
    slice1 := []<span class="keyword">int</span>{<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>}
    slice2 := slice1[<span class="number">1</span>:<span class="number">3</span>]  <span class="comment">// [2, 3]</span>

    <span class="comment">// ä¿®æ”¹ slice2 ä¼šå½±å“ slice1</span>
    slice2[<span class="number">0</span>] = <span class="number">99</span>
    fmt.<span class="function">Println</span>(<span class="string">"slice1:"</span>, slice1)  <span class="comment">// [1, 99, 3, 4, 5]</span>
    fmt.<span class="function">Println</span>(<span class="string">"slice2:"</span>, slice2)  <span class="comment">// [99, 3]</span>
}</code></pre>
            </div>

            <div class="note-box">
                <h3>åˆ‡ç‰‡æœ€ä½³å®è·µ</h3>
                <p><strong>1. é¢„åˆ†é…å®¹é‡ï¼š</strong></p>
                <pre><code><span class="comment">// ä¸æ¨èï¼šé¢‘ç¹æ‰©å®¹</span>
s := []<span class="keyword">int</span>{}
<span class="keyword">for</span> i := <span class="number">0</span>; i < <span class="number">1000</span>; i++ {
    s = <span class="function">append</span>(s, i)  <span class="comment">// å¤šæ¬¡æ‰©å®¹ï¼Œæ€§èƒ½å·®</span>
}

<span class="comment">// æ¨èï¼šé¢„åˆ†é…å®¹é‡</span>
s := <span class="function">make</span>([]<span class="keyword">int</span>, <span class="number">0</span>, <span class="number">1000</span>)
<span class="keyword">for</span> i := <span class="number">0</span>; i < <span class="number">1000</span>; i++ {
    s = <span class="function">append</span>(s, i)  <span class="comment">// æ— éœ€æ‰©å®¹ï¼Œæ€§èƒ½å¥½</span>
}</code></pre>

                <p><strong>2. é¿å…å¤§å†…å­˜æ³„æ¼ï¼š</strong></p>
                <pre><code><span class="keyword">func</span> <span class="function">processLargeData</span>() {
    <span class="comment">// å‡è®¾ data æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„åˆ‡ç‰‡</span>
    data := <span class="function">make</span>([]<span class="keyword">byte</span>, <span class="number">1000000</span>)
    
    <span class="comment">// åªéœ€è¦å‰ 100 ä¸ªå­—èŠ‚</span>
    header := data[:<span class="number">100</span>]
    
    <span class="comment">// é—®é¢˜ï¼šheader ä»ç„¶å¼•ç”¨æ•´ä¸ª dataï¼Œå¯¼è‡´ data æ— æ³•è¢« GC</span>
    
    <span class="comment">// è§£å†³æ–¹æ¡ˆï¼šå¤åˆ¶éœ€è¦çš„æ•°æ®</span>
    header = <span class="function">make</span>([]<span class="keyword">byte</span>, <span class="number">100</span>)
    <span class="function">copy</span>(header, data[:<span class="number">100</span>])
}</code></pre>

                <p><strong>3. ä½¿ç”¨ copy è€Œä¸æ˜¯ appendï¼š</strong></p>
                <pre><code><span class="comment">// ä¸æ¨è</span>
result := []<span class="keyword">int</span>{}
<span class="keyword">for</span> _, v := <span class="keyword">range</span> source {
    result = <span class="function">append</span>(result, v)  <span class="comment">// å¯èƒ½å¤šæ¬¡æ‰©å®¹</span>
}

<span class="comment">// æ¨è</span>
result := <span class="function">make</span>([]<span class="keyword">int</span>, <span class="number">0</span>, <span class="function">len</span>(source))
<span class="keyword">for</span> _, v := <span class="keyword">range</span> source {
    result = <span class="function">append</span>(result, v)
}

<span class="comment">// æˆ–è€…ç›´æ¥ä½¿ç”¨ copy</span>
result := <span class="function">make</span>([]<span class="keyword">int</span>, <span class="function">len</span>(source))
<span class="function">copy</span>(result, source)</code></pre>

                <p><strong>4. åˆ‡ç‰‡ä½œä¸ºå‡½æ•°å‚æ•°ï¼š</strong></p>
                <pre><code><span class="comment">// åˆ‡ç‰‡æ˜¯å¼•ç”¨ä¼ é€’ï¼Œä½† len å’Œ cap æ˜¯å€¼ä¼ é€’</span>
<span class="function">func</span> <span class="function">modifySlice</span>(s []<span class="keyword">int</span>) {
    <span class="comment">// ä¿®æ”¹å…ƒç´ ä¼šå½±å“åŸåˆ‡ç‰‡</span>
    s[<span class="number">0</span>] = <span class="number">999</span>
    
    <span class="comment">// append ä¸ä¼šå½±å“åŸåˆ‡ç‰‡ï¼ˆé™¤éå‘ç”Ÿæ‰©å®¹ï¼‰</span>
    s = <span class="function">append</span>(s, <span class="number">100</span>)
}

<span class="comment">// å¦‚æœéœ€è¦ä¿®æ”¹åŸåˆ‡ç‰‡ï¼Œè¿”å›æ–°çš„åˆ‡ç‰‡</span>
<span class="function">func</span> <span class="function">appendSlice</span>(s []<span class="keyword">int</span>, values ...<span class="keyword">int</span>) []<span class="keyword">int</span> {
    <span class="keyword">return</span> <span class="function">append</span>(s, values...)
}</code></pre>

                <p><strong>5. æ£€æŸ¥åˆ‡ç‰‡æ˜¯å¦ä¸ºç©ºï¼š</strong></p>
                <pre><code><span class="comment">// ä¸æ¨è</span>
<span class="keyword">if</span> s != <span class="keyword">nil</span> {  <span class="comment">// nil åˆ‡ç‰‡å’Œç©ºåˆ‡ç‰‡ä¸åŒ</span>
    <span class="comment">// å¤„ç†</span>
}

<span class="comment">// æ¨è</span>
<span class="keyword">if</span> <span class="function">len</span>(s) > <span class="number">0</span> {  <span class="comment">// æ£€æŸ¥é•¿åº¦</span>
    <span class="comment">// å¤„ç†</span>
}</code></pre>

                <p><strong>6. ä½¿ç”¨ range éå†åˆ‡ç‰‡ï¼š</strong></p>
                <pre><code><span class="comment">// range è¿”å›ç´¢å¼•å’Œå€¼çš„å‰¯æœ¬</span>
<span class="keyword">for</span> i, v := <span class="keyword">range</span> slice {
    <span class="comment">// v æ˜¯å‰¯æœ¬ï¼Œä¿®æ”¹ v ä¸ä¼šå½±å“åŸåˆ‡ç‰‡</span>
}

<span class="comment">// å¦‚æœéœ€è¦ä¿®æ”¹å…ƒç´ ï¼Œä½¿ç”¨ç´¢å¼•</span>
<span class="keyword">for</span> i := <span class="keyword">range</span> slice {
    slice[i] = newValue
}</code></pre>

                <p><strong>7. åˆ‡ç‰‡æˆªå–çš„å†…å­˜å…±äº«é™·é˜±ï¼š</strong></p>
                <pre><code><span class="keyword">func</span> <span class="function">getFirstN</span>(data []<span class="keyword">byte</span>, n <span class="keyword">int</span>) []<span class="keyword">byte</span> {
    <span class="comment">// ä¸æ¨èï¼šè¿”å›çš„åˆ‡ç‰‡ä»ç„¶å¼•ç”¨æ•´ä¸ª data</span>
    <span class="keyword">return</span> data[:n]
    
    <span class="comment">// æ¨èï¼šå¤åˆ¶æ•°æ®ï¼Œé¿å…å†…å­˜æ³„æ¼</span>
    result := <span class="function">make</span>([]<span class="keyword">byte</span>, n)
    <span class="function">copy</span>(result, data[:n])
    <span class="keyword">return</span> result
}</code></pre>
            </div>

            <h2 id="maps">æ˜ å°„ï¼ˆMapï¼‰</h2>
            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="function">func</span> <span class="function">main</span>() {
    <span class="comment">// åˆ›å»º map</span>
    m1 := <span class="function">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>)
    m1[<span class="string">"apple"</span>] = <span class="number">5</span>
    m1[<span class="string">"banana"</span>] = <span class="number">3</span>

    <span class="comment">// map å­—é¢é‡</span>
    m2 := <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>{
        <span class="string">"red"</span>:    <span class="number">255</span>,
        <span class="string">"green"</span>:  <span class="number">128</span>,
        <span class="string">"blue"</span>:   <span class="number">64</span>,
    }

    <span class="comment">// è¯»å–å€¼</span>
    value, exists := m1[<span class="string">"apple"</span>]
    fmt.<span class="function">Println</span>(<span class="string">"apple çš„å€¼:"</span>, value, <span class="string">"å­˜åœ¨:"</span>, exists)

    <span class="comment">// åˆ é™¤é”®</span>
    <span class="keyword">delete</span>(m1, <span class="string">"banana"</span>)

    <span class="comment">// éå† map</span>
    <span class="keyword">for</span> key, val := <span class="keyword">range</span> m2 {
        fmt.<span class="function">Println</span>(key, <span class="string">":"</span>, val)
    }

    fmt.<span class="function">Println</span>(<span class="string">"map é•¿åº¦:"</span>, <span class="function">len</span>(m2))
}</code></pre>

            <div class="note-box">
                <h3>Map çš„å†…éƒ¨ç»“æ„</h3>
                <p>Map åœ¨ Go å†…éƒ¨ä½¿ç”¨å“ˆå¸Œè¡¨å®ç°ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹ç»“æ„ï¼š</p>
                <pre><code><span class="keyword">type</span> hmap <span class="keyword">struct</span> {
    count     <span class="keyword">int</span>         <span class="comment">// map ä¸­å…ƒç´ çš„æ•°é‡</span>
    flags     <span class="keyword">uint8</span>       <span class="comment">// çŠ¶æ€æ ‡å¿—</span>
    B         <span class="keyword">uint8</span>       <span class="comment">// æ¡¶æ•°ç»„å¤§å°çš„å¯¹æ•°ï¼ˆbucket æ•°ç»„å¤§å° = 2^Bï¼‰</span>
    noverflow <span class="keyword">uint16</span>     <span class="comment">// æº¢å‡ºçš„æ¡¶æ•°é‡</span>
    hash0     <span class="keyword">uint32</span>     <span class="comment">// å“ˆå¸Œç§å­</span>
    buckets   unsafe.Pointer <span class="comment">// æ¡¶æ•°ç»„çš„æŒ‡é’ˆ</span>
    oldbuckets unsafe.Pointer <span class="comment">// æ‰©å®¹æ—¶çš„æ—§æ¡¶æ•°ç»„</span>
    nevacuate <span class="keyword">uintptr</span>    <span class="comment">// æ‰©å®¹æ¬è¿è¿›åº¦</span>
    extra *mapextra <span class="comment">// é¢å¤–ä¿¡æ¯ï¼ˆæº¢å‡ºæ¡¶ç­‰ï¼‰</span>
}</code></pre>
                <p>Map çš„æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(1)ã€‚å½“ map ä¸­çš„å…ƒç´ æ•°é‡è¶…è¿‡è´Ÿè½½å› å­æ—¶ï¼Œä¼šè‡ªåŠ¨æ‰©å®¹ã€‚</p>
            </div>

            <div class="example-box">
                <h3>Map çš„å®ç°åŸç†</h3>
                <p><strong>1. å“ˆå¸Œè®¡ç®—ï¼š</strong></p>
                <p>Go ä½¿ç”¨å“ˆå¸Œå‡½æ•°è®¡ç®— key çš„å“ˆå¸Œå€¼ï¼Œç„¶åæ ¹æ®å“ˆå¸Œå€¼ç¡®å®šå…ƒç´ åœ¨æ¡¶æ•°ç»„ä¸­çš„ä½ç½®ã€‚</p>
                <pre><code><span class="comment">// å“ˆå¸Œè®¡ç®—ç¤ºä¾‹</span>
<span class="comment">// 1. è®¡ç®— key çš„å“ˆå¸Œå€¼</span>
hash := hashFunction(key, hmap.hash0)

<span class="comment">// 2. å–å“ˆå¸Œå€¼çš„ä½ B ä½ç¡®å®šæ¡¶ç´¢å¼•</span>
<span class="comment">// ä¾‹å¦‚ï¼šB=3 æ—¶ï¼Œbucket æ•°ç»„å¤§å°ä¸º 8</span>
bucketIndex := hash & (uintptr(1)<<hmap.B - <span class="number">1</span>)

<span class="comment">// 3. å–å“ˆå¸Œå€¼çš„é«˜ 8 ä½ä½œä¸º tophash</span>
top := uint8(hash >> (<span class="keyword">unsafe</span>.Sizeof(hash)*<span class="number">8</span> - <span class="number">8</span>))</code></pre>
                <p>ä¸åŒç±»å‹çš„ key ä½¿ç”¨ä¸åŒçš„å“ˆå¸Œç®—æ³•ï¼š</p>
                <ul>
                    <li><strong>æ•´æ•°ï¼š</strong>ç›´æ¥ä½¿ç”¨æ•´æ•°å€¼ä½œä¸ºå“ˆå¸Œ</li>
                    <li><strong>å­—ç¬¦ä¸²ï¼š</strong>ä½¿ç”¨ FNV-1a ç®—æ³•</li>
                    <li><strong>æŒ‡é’ˆï¼š</strong>ä½¿ç”¨æŒ‡é’ˆåœ°å€</li>
                    <li><strong>ç»“æ„ä½“ï¼š</strong>é€’å½’è®¡ç®—å„å­—æ®µçš„å“ˆå¸Œ</li>
                </ul>

                <p><strong>2. æ¡¶ï¼ˆBucketï¼‰ç»“æ„è¯¦è§£ï¼š</strong></p>
                <p>æ¯ä¸ªæ¡¶å¯ä»¥å­˜å‚¨æœ€å¤š 8 ä¸ªé”®å€¼å¯¹ï¼ˆbucketSize = 8ï¼‰ã€‚æ¡¶çš„å†…å­˜å¸ƒå±€ç»è¿‡ä¼˜åŒ–ï¼š</p>
                <pre><code><span class="keyword">type</span> bmap <span class="keyword">struct</span> {
    <span class="comment">// tophash æ•°ç»„ï¼šå­˜å‚¨æ¯ä¸ªé”®çš„å“ˆå¸Œå€¼é«˜ 8 ä½</span>
    <span class="comment">// ç”¨äºå¿«é€Ÿåˆ¤æ–­é”®æ˜¯å¦å¯èƒ½å­˜åœ¨äºæ¡¶ä¸­</span>
    tophash [bucketSize]<span class="keyword">uint8</span>
    
    <span class="comment">// keys å’Œ values æ•°ç»„äº¤é”™å­˜å‚¨ï¼Œå‡å°‘å¡«å……</span>
    <span class="comment">// å®é™…å†…å­˜å¸ƒå±€ï¼š[tophash0][tophash1]...[key0][key1]...[val0][val1]...</span>
    keys   [bucketSize]keyType
    values [bucketSize]valueType
    
    <span class="comment">// overflow æŒ‡å‘æº¢å‡ºæ¡¶é“¾è¡¨</span>
    <span class="comment">// å½“æ¡¶æ»¡æ—¶ï¼Œæ–°å…ƒç´ å­˜å‚¨åœ¨æº¢å‡ºæ¡¶ä¸­</span>
    overflow *bmap
}</code></pre>

                <p><strong>3. æŸ¥æ‰¾è¿‡ç¨‹è¯¦è§£ï¼š</strong></p>
                <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="function">func</span> <span class="function">main</span>() {
    m := <span class="function">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>)
    m[<span class="string">"apple"</span>] = <span class="number">5</span>
    m[<span class="string">"banana"</span>] = <span class="number">3</span>
    m[<span class="string">"cherry"</span>] = <span class="number">7</span>

    <span class="comment">// æŸ¥æ‰¾ "banana" çš„è¯¦ç»†è¿‡ç¨‹ï¼š</span>
    
    <span class="comment">// æ­¥éª¤ 1ï¼šè®¡ç®— "banana" çš„å“ˆå¸Œå€¼</span>
    hash := hashFunction(<span class="string">"banana"</span>, hash0)
    fmt.<span class="Function">Printf</span>(<span class="string">"å“ˆå¸Œå€¼: %d
"</span>, hash)
    
    <span class="comment">// æ­¥éª¤ 2ï¼šè®¡ç®—æ¡¶ç´¢å¼•</span>
    bucketIndex := hash & (bucketMask)
    fmt.<span class="Function">Printf</span>(<span class="string">"æ¡¶ç´¢å¼•: %d
"</span>, bucketIndex)
    
    <span class="comment">// æ­¥éª¤ 3ï¼šåœ¨æ¡¶ä¸­æŸ¥æ‰¾</span>
    bucket := buckets[bucketIndex]
    <span class="keyword">for</span> i := <span class="number">0</span>; i < bucketSize; i++ {
        <span class="comment">// å…ˆæ£€æŸ¥ tophash å¿«é€Ÿè¿‡æ»¤</span>
        <span class="keyword">if</span> bucket.tophash[i] != top {
            <span class="keyword">continue</span>
        }
        
        <span class="comment">// å†æ¯”è¾ƒå®Œæ•´çš„ key</span>
        <span class="keyword">if</span> bucket.keys[i] == <span class="string">"banana"</span> {
            <span class="comment">// æ‰¾åˆ°åŒ¹é…ï¼Œè¿”å›å€¼</span>
            <span class="keyword">return</span> bucket.values[i]
        }
    }
    
    <span class="comment">// æ­¥éª¤ 4ï¼šæ£€æŸ¥æº¢å‡ºæ¡¶é“¾è¡¨</span>
    <span class="keyword">for</span> bucket = bucket.overflow; bucket != <span class="keyword">nil</span>; bucket = bucket.overflow {
        <span class="comment">// åœ¨æº¢å‡ºæ¡¶ä¸­é‡å¤æ­¥éª¤ 3</span>
        <span class="comment">// ...</span>
    }
    
    <span class="comment">// æ­¥éª¤ 5ï¼šæœªæ‰¾åˆ°ï¼Œè¿”å›é›¶å€¼</span>
    <span class="keyword">return</span> zeroValue
}</code></pre>

                <p><strong>4. æ’å…¥è¿‡ç¨‹è¯¦è§£ï¼š</strong></p>
                <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="function">func</span> <span class="function">main</span>() {
    m := <span class="function">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>)
    
    <span class="comment">// æ’å…¥ "orange" çš„è¿‡ç¨‹ï¼š</span>
    
    <span class="comment">// æ­¥éª¤ 1ï¼šè®¡ç®—å“ˆå¸Œå’Œæ¡¶ç´¢å¼•</span>
    hash := hashFunction(<span class="string">"orange"</span>, hash0)
    bucketIndex := hash & bucketMask
    top := uint8(hash >> (<span class="keyword">unsafe</span>.Sizeof(hash)*<span class="number">8</span> - <span class="number">8</span>))
    
    <span class="comment">// æ­¥éª¤ 2ï¼šåœ¨æ¡¶ä¸­æŸ¥æ‰¾ç©ºä½</span>
    bucket := buckets[bucketIndex]
    <span class="keyword">var</span> insertPos <span class="keyword">int</span> = -<span class="number">1</span>
    
    <span class="keyword">for</span> i := <span class="number">0</span>; i < bucketSize; i++ {
        <span class="keyword">if</span> bucket.tophash[i] == empty {
            <span class="comment">// æ‰¾åˆ°ç©ºä½</span>
            insertPos = i
            <span class="keyword">break</span>
        }
    }
    
    <span class="keyword">if</span> insertPos != -<span class="number">1</span> {
        <span class="comment">// æ¡¶ä¸­æœ‰ç©ºä½ï¼Œç›´æ¥æ’å…¥</span>
        bucket.tophash[insertPos] = top
        bucket.keys[insertPos] = <span class="string">"orange"</span>
        bucket.values[insertPos] = <span class="number">10</span>
    } <span class="keyword">else</span> {
        <span class="comment">// æ¡¶å·²æ»¡ï¼Œåˆ›å»ºæº¢å‡ºæ¡¶</span>
        <span class="keyword">if</span> bucket.overflow == <span class="keyword">nil</span> {
            bucket.overflow = <span class="function">newbmap</span>()
        }
        <span class="comment">// åœ¨æº¢å‡ºæ¡¶ä¸­æ’å…¥</span>
        insertIntoOverflow(bucket.overflow, <span class="string">"orange"</span>, <span class="number">10</span>)
    }
    
    <span class="comment">// æ­¥éª¤ 3ï¼šæ£€æŸ¥æ˜¯å¦éœ€è¦æ‰©å®¹</span>
    <span class="keyword">if</span> hmap.noverflow >= <span class="keyword">float64</span>(hmap.count)/loadFactor {
        <span class="function">grow</span>(hmap)
    }
}</code></pre>

                <p><strong>5. åˆ é™¤è¿‡ç¨‹è¯¦è§£ï¼š</strong></p>
                <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="function">func</span> <span class="function">main</span>() {
    m := <span class="function">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>)
    m[<span class="string">"apple"</span>] = <span class="number">5</span>
    
    <span class="comment">// åˆ é™¤ "apple" çš„è¿‡ç¨‹ï¼š</span>
    
    <span class="comment">// æ­¥éª¤ 1ï¼šå®šä½ key çš„ä½ç½®</span>
    hash := hashFunction(<span class="string">"apple"</span>, hash0)
    bucketIndex := hash & bucketMask
    bucket := buckets[bucketIndex]
    
    <span class="keyword">for</span> i := <span class="number">0</span>; i < bucketSize; i++ {
        <span class="keyword">if</span> bucket.tophash[i] != top {
            <span class="keyword">continue</span>
        }
        <span class="keyword">if</span> bucket.keys[i] == <span class="string">"apple"</span> {
            <span class="comment">// æ‰¾åˆ° keyï¼Œæ ‡è®°ä¸ºå·²åˆ é™¤</span>
            bucket.tophash[i] = emptyOne  <span class="comment">// ç‰¹æ®Šæ ‡è®°ï¼šå·²åˆ é™¤</span>
            bucket.keys[i] = zeroKey
            bucket.values[i] = zeroValue
            hmap.count--
            <span class="keyword">break</span>
        }
    }
    
    <span class="comment">// æ³¨æ„ï¼šåˆ é™¤æ“ä½œä¸ä¼šç«‹å³å›æ”¶ç©ºé—´</span>
    <span class="comment">// å·²åˆ é™¤çš„ä½ç½®ä¼šè¢« emptyOne æ ‡è®°</span>
    <span class="comment">// åç»­æ’å…¥æ—¶å¯ä»¥å¤ç”¨è¿™äº›ä½ç½®</span>
}</code></pre>

                <p><strong>6. æ‰©å®¹æœºåˆ¶è¯¦è§£ï¼š</strong></p>
                <p>Go çš„ map æœ‰ä¸¤ç§æ‰©å®¹æ–¹å¼ï¼š</p>
                
                <p><strong>ç­‰é‡æ‰©å®¹ï¼ˆrehashï¼‰ï¼š</strong></p>
                <ul>
                    <li>è§¦å‘æ¡ä»¶ï¼šæº¢å‡ºæ¡¶è¿‡å¤šï¼ˆnoverflow >= 1 << (B & <span class="number">15</span>))</li>
                    <li>ç›®çš„ï¼šå‡å°‘æº¢å‡ºæ¡¶ï¼Œæé«˜æŸ¥æ‰¾æ•ˆç‡</li>
                    <li>è¿‡ç¨‹ï¼šé‡æ–°åˆ†é…ç›¸åŒå¤§å°çš„æ¡¶æ•°ç»„ï¼Œé‡æ–°å“ˆå¸Œæ‰€æœ‰å…ƒç´ </li>
                </ul>
                
                <p><strong>å¢é‡æ‰©å®¹ï¼ˆgrowï¼‰ï¼š</strong></p>
                <ul>
                    <li>è§¦å‘æ¡ä»¶ï¼šå…ƒç´ æ•°é‡è¶…è¿‡è´Ÿè½½å› å­ï¼ˆcount / bucketSize > loadFactorï¼‰</li>
                    <li>è´Ÿè½½å› å­é€šå¸¸ä¸º 6.5</li>
                    <li>ç›®çš„ï¼šå¢åŠ æ¡¶æ•°é‡ï¼Œå‡å°‘å“ˆå¸Œå†²çª</li>
                    <li>è¿‡ç¨‹ï¼šæ¡¶æ•°ç»„å¤§å°ç¿»å€ï¼ˆB++ï¼‰ï¼Œæ¸è¿›å¼æ¬è¿å…ƒç´ </li>
                </ul>
                
                <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="function">func</span> <span class="function">main</span>() {
    m := <span class="function">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span>)

    <span class="comment">// è§‚å¯Ÿæ‰©å®¹è¿‡ç¨‹</span>
    <span class="keyword">for</span> i := <span class="number">0</span>; i < <span class="number">100</span>; i++ {
        <span class="keyword">beforeB</span> := m.B
        m[i] = i * i
        <span class="keyword">afterB</span> := m.B
        
        <span class="keyword">if</span> beforeB != afterB {
            fmt.<span class="Function">Printf</span>(<span class="string">"æ‰©å®¹: B ä» %d å˜ä¸º %d
"</span>, beforeB, afterB)
        }
    }
}</code></pre>

                <p><strong>7. æ¸è¿›å¼æ‰©å®¹è¯¦è§£ï¼š</strong></p>
                <p>å¢é‡æ‰©å®¹æ—¶ï¼ŒGo é‡‡ç”¨æ¸è¿›å¼æ¬è¿ç­–ç•¥ï¼š</p>
                <pre><code><span class="keyword">type</span> hmap <span class="keyword">struct</span> {
    <span class="comment">// ... å…¶ä»–å­—æ®µ</span>
    
    oldbuckets unsafe.Pointer  <span class="comment">// æ—§æ¡¶æ•°ç»„</span>
    nevacuate  <span class="keyword">uintptr</span>       <span class="comment">// æ¬è¿è¿›åº¦ï¼šå·²æ¬è¿çš„æ¡¶æ•°é‡</span>
    noldbuckets <span class="keyword">uintptr</span>     <span class="comment">// æ—§æ¡¶æ•°ç»„å¤§å°</span>
}

<span class="comment">// æ¬è¿è¿‡ç¨‹</span>
<span class="function">func</span> <span class="function">evacuate</span>(hmap *hmap) {
    <span class="comment">// æ¯æ¬¡æ“ä½œæœ€å¤šæ¬è¿ 2 ä¸ªæ¡¶</span>
    <span class="keyword">for</span> i := <span class="number">0</span>; i < <span class="number">2</span>; i++ {
        <span class="comment">// æ¬è¿æ—§æ¡¶æ•°ç»„çš„ç¬¬ nevacuate ä¸ªæ¡¶</span>
        oldbucket := (*bmap)(<span class="function">add</span>(hmap.oldbuckets, 
            <span class="keyword">uintptr</span>(hmap.nevacuate)*bucketSize))
        
        <span class="comment">// å°†æ¡¶ä¸­çš„æ‰€æœ‰å…ƒç´ é‡æ–°å“ˆå¸Œåˆ°æ–°æ¡¶æ•°ç»„</span>
        <span class="function">evacuateOne</span>(oldbucket, hmap)
        
        hmap.nevacuate++
        
        <span class="comment">// æ¬è¿å®Œæˆï¼Œé‡Šæ”¾æ—§æ¡¶æ•°ç»„</span>
        <span class="keyword">if</span> hmap.nevacuate == hmap.noldbuckets {
            hmap.oldbuckets = <span class="keyword">nil</span>
        }
    }
}</code></pre>
                <p>æ¸è¿›å¼æ‰©å®¹çš„ä¼˜åŠ¿ï¼š</p>
                <ul>
                    <li>é¿å…å•æ¬¡æ“ä½œçš„æ€§èƒ½æŠ–åŠ¨</li>
                    <li>åˆ†æ•£æ‰©å®¹å¼€é”€åˆ°å¤šæ¬¡æ“ä½œ</li>
                    <li>æé«˜ç³»ç»Ÿçš„å“åº”æ€§</li>
                </ul>

                <p><strong>8. æº¢å‡ºæ¡¶é“¾è¡¨ï¼š</strong></p>
                <p>å½“æ¡¶æ»¡æ—¶ï¼Œæ–°å…ƒç´ å­˜å‚¨åœ¨æº¢å‡ºæ¡¶ä¸­ï¼Œå½¢æˆé“¾è¡¨ï¼š</p>
                <pre><code><span class="comment">// æ¡¶ç»“æ„</span>
Bucket {
    tophash: [<span class="keyword">uint8</span>]  <span class="comment">// [top1, top2, top3, top4, top5, top6, top7, top8]</span>
    keys:    [KeyType]  <span class="comment">// [key1, key2, key3, key4, key5, key6, key7, key8]</span>
    values:  [ValueType] <span class="comment">// [val1, val2, val3, val4, val5, val6, val7, val8]</span>
    overflow: *Bucket    <span class="comment">// -> æº¢å‡ºæ¡¶1 -> æº¢å‡ºæ¡¶2 -> ...</span>
}

<span class="comment">// æŸ¥æ‰¾æ—¶çš„éå†é¡ºåºï¼š</span>
<span class="comment">// 1. ä¸»æ¡¶</span>
<span class="comment">// 2. æº¢å‡ºæ¡¶1</span>
<span class="comment">// 3. æº¢å‡ºæ¡¶2</span>
<span class="comment">// ...</span></code></pre>

                <p><strong>9. ç©ºä½æ ‡è®°ï¼š</strong></p>
                <p>Go ä½¿ç”¨ç‰¹æ®Šçš„ tophash å€¼æ ‡è®°ç©ºä½ï¼š</p>
                <pre><code><span class="keyword">const</span> (
    emptyRest = <span class="number">0</span>      <span class="comment">// ç©ºä½ï¼Œåé¢æ²¡æœ‰å…ƒç´ </span>
    emptyOne  = <span class="number">1</span>      <span class="comment">// å·²åˆ é™¤çš„ä½ç½®</span>
    minTopHash = <span class="number">4</span>     <span class="comment">// æœ€å°æœ‰æ•ˆçš„ tophash</span>
)

<span class="comment">// æŸ¥æ‰¾æ—¶ï¼š</span>
<span class="keyword">for</span> i := <span class="number">0</span>; i < bucketSize; i++ {
    <span class="keyword">if</span> tophash[i] == emptyRest {
        <span class="keyword">break</span>  <span class="comment">// åé¢æ²¡æœ‰å…ƒç´ äº†</span>
    }
    <span class="keyword">if</span> tophash[i] == emptyOne {
        <span class="keyword">continue</span>  <span class="comment">// è·³è¿‡å·²åˆ é™¤çš„ä½ç½®</span>
    }
    <span class="comment">// æ£€æŸ¥å®é™…çš„é”®</span>
}</code></pre>

                <p><strong>10. å†…å­˜å¸ƒå±€ä¼˜åŒ–ï¼š</strong></p>
                <p>Go å¯¹ map çš„å†…å­˜å¸ƒå±€è¿›è¡Œäº†ä¼˜åŒ–ï¼š</p>
                <ul>
                    <li><strong>å‡å°‘å¡«å……ï¼š</strong>keys å’Œ values æ•°ç»„äº¤é”™å­˜å‚¨</li>
                    <li><strong>ç¼“å­˜å‹å¥½ï¼š</span>tophash æ•°ç»„åœ¨å‰é¢ï¼Œä¾¿äºå¿«é€Ÿè¿‡æ»¤</li>
                    <li><strong>å†…å­˜å¯¹é½ï¼š</strong>æ ¹æ®ç±»å‹å¤§å°è‡ªåŠ¨å¯¹é½</li>
                </ul>
                <pre><code><span class="comment">// å®é™…å†…å­˜å¸ƒå±€ï¼ˆ64ä½ç³»ç»Ÿï¼‰</span>
<span class="comment">// [8]byte tophash</span>
<span class="comment">// [8]KeyType keys</span>
<span class="comment">// [8]ValueType values</span>
<span class="comment">// æŒ‡é’ˆ overflow</span>

<span class="comment">// å‡è®¾ KeyType=int, ValueType=int</span>
<span class="comment">// tophash: 8 bytes</span>
<span class="comment">// keys: 8 * 8 = 64 bytes</span>
<span class="comment">// values: 8 * 8 = 64 bytes</span>
<span class="comment">// æ€»è®¡: 8 + 64 + 64 = 136 bytes</span></code></pre>
            </div>

            <div class="note-box">
                <h3>Map æœ€ä½³å®è·µ</h3>
                <p><strong>1. é¢„åˆ†é… map å®¹é‡ï¼š</strong></p>
                <pre><code><span class="comment">// ä¸æ¨èï¼šé¢‘ç¹æ‰©å®¹</span>
m := <span class="function">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>)
<span class="keyword">for</span> i := <span class="number">0</span>; i < <span class="number">1000</span>; i++ {
    m[fmt.<span class="function">Sprintf</span>(<span class="string">"key%d"</span>, i)] = i  <span class="comment">// å¤šæ¬¡æ‰©å®¹</span>
}

<span class="comment">// æ¨èï¼šé¢„åˆ†é…å®¹é‡</span>
m := <span class="function">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>, <span class="number">1000</span>)
<span class="keyword">for</span> i := <span class="number">0</span>; i < <span class="number">1000</span>; i++ {
    m[fmt.<span class="Function">Sprintf</span>(<span class="string">"key%d"</span>, i)] = i  <span class="comment">// æ— éœ€æ‰©å®¹</span>
}</code></pre>

                <p><strong>2. æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨ï¼š</strong></p>
                <pre><code><span class="comment">// æ¨èï¼šä½¿ç”¨ä¸¤ä¸ªè¿”å›å€¼</span>
<span class="keyword">if</span> value, ok := m[<span class="keyword">"key"</span>]; ok {
    fmt.<span class="function">Println</span>(<span class="string">"é”®å­˜åœ¨ï¼Œå€¼ä¸º:"</span>, value)
} <span class="keyword">else</span> {
    fmt.<span class="function">Println</span>(<span class="string">"é”®ä¸å­˜åœ¨"</span>)
}</code></pre>

                <p><strong>3. éå† map çš„é¡ºåºï¼š</strong></p>
                <pre><code><span class="comment">// æ³¨æ„ï¼šmap çš„éå†é¡ºåºæ˜¯éšæœºçš„</span>
<span class="keyword">for</span> key, value := <span class="keyword">range</span> m {
    fmt.<span class="function">Println</span>(key, value)
}

<span class="comment">// å¦‚æœéœ€è¦æœ‰åºéå†ï¼Œå…ˆæ”¶é›†é”®å¹¶æ’åº</span>
keys := <span class="function">make</span>([]<span class="keyword">string</span>, <span class="number">0</span>, <span class="function">len</span>(m))
<span class="keyword">for</span> key := <span class="keyword">range</span> m {
    keys = <span class="function">append</span>(keys, key)
}
<span class="comment">// æ’åºé”®</span>
<span class="keyword">for</span> _, key := <span class="keyword">range</span> keys {
    fmt.<span class="function">Println</span>(key, m[key])
}</code></pre>

                <p><strong>4. å¹¶å‘å®‰å…¨ï¼š</strong></p>
                <pre><code><span class="comment">// ä¸æ¨èï¼šmap ä¸æ˜¯å¹¶å‘å®‰å…¨çš„</span>
<span class="keyword">var</span> m = <span class="function">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span>)
<span class="keyword">go</span> <span class="function">func</span>() {
    m[<span class="number">1</span>] = <span class="number">1</span>  <span class="comment">// å¯èƒ½å¯¼è‡´ panic</span>
}()

<span class="comment">// æ¨èï¼šä½¿ç”¨ sync.Map æˆ–åŠ é”</span>
<span class="keyword">import</span> <span class="string">"sync"</span>

<span class="comment">// æ–¹å¼1ï¼šä½¿ç”¨ sync.Mapï¼ˆé€‚åˆè¯»å¤šå†™å°‘ï¼‰</span>
<span class="keyword">var</span> m sync.Map
m.<span class="function">Store</span>(<span class="number">1</span>, <span class="number">1</span>)
<span class="keyword">if</span> value, ok := m.<span class="function">Load</span>(<span class="number">1</span>); ok {
    fmt.<span class="function">Println</span>(value)
}

<span class="comment">// æ–¹å¼2ï¼šä½¿ç”¨äº’æ–¥é”ï¼ˆé€‚åˆè¯»å†™å‡è¡¡ï¼‰</span>
<span class="keyword">type</span> SafeMap <span class="keyword">struct</span> {
    mu sync.RWMutex
    m  <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span>
}

<span class="function">func</span> (sm *SafeMap) <span class="function">Get</span>(key <span class="keyword">int</span>) (<span class="keyword">int</span>, <span class="keyword">bool</span>) {
    sm.mu.<span class="function">RLock</span>()
    <span class="keyword">defer</span> sm.mu.<span class="function">RUnlock</span>()
    v, ok := sm.m[key]
    <span class="keyword">return</span> v, ok
}

<span class="function">func</span> (sm *SafeMap) <span class="function">Set</span>(key, value <span class="keyword">int</span>) {
    sm.mu.<span class="function">Lock</span>()
    <span class="keyword">defer</span> sm.mu.<span class="function">Unlock</span>()
    sm.m[key] = value
}</code></pre>

                <p><strong>5. åˆ é™¤é”®ï¼š</strong></p>
                <pre><code><span class="comment">// åˆ é™¤é”®</span>
<span class="keyword">delete</span>(m, <span class="string">"key"</span>)

<span class="comment">// åˆ é™¤ä¸å­˜åœ¨çš„é”®æ˜¯å®‰å…¨çš„ï¼Œä¸ä¼š panic</span>
<span class="keyword">delete</span>(m, <span class="string">"nonexistent"</span>)</code></pre>

                <p><strong>6. map ä½œä¸ºå‡½æ•°å‚æ•°ï¼š</strong></p>
                <pre><code><span class="comment">// map æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¼ é€’çš„æ˜¯æŒ‡é’ˆ</span>
<span class="function">func</span> <span class="function">modifyMap</span>(m <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>) {
    m[<span class="string">"new"</span>] = <span class="number">100</span>  <span class="comment">// ä¼šå½±å“åŸ map</span>
    <span class="keyword">delete</span>(m, <span class="string">"old"</span>)   <span class="comment">// ä¼šå½±å“åŸ map</span>
}

<span class="comment">// å¦‚æœ map å¯èƒ½ä¸º nilï¼Œéœ€è¦æ£€æŸ¥</span>
<span class="function">func</span> <span class="function">safeSet</span>(m <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>, key <span class="keyword">string</span>, value <span class="keyword">int</span>) {
    <span class="keyword">if</span> m == <span class="keyword">nil</span> {
        m = <span class="function">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>)
    }
    m[key] = value
}</code></pre>

                <p><strong>7. é€‰æ‹©åˆé€‚çš„ key ç±»å‹ï¼š</strong></p>
                <pre><code><span class="comment">// æ¨èï¼šå¯æ¯”è¾ƒçš„ç±»å‹ä½œä¸º key</span>
m1 := <span class="function">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>)    <span class="comment">// å­—ç¬¦ä¸²</span>
m2 := <span class="function">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span>)        <span class="comment">// æ•´æ•°</span>
m3 := <span class="function">make</span>(<span class="keyword">map</span>[<span class="keyword">bool</span>]<span class="keyword">int</span>)       <span class="comment">// å¸ƒå°”å€¼</span>
m4 := <span class="function">make</span>(<span class="keyword">map</span>[<span class="keyword">float64</span>]<span class="keyword">int</span>)    <span class="comment">// æµ®ç‚¹æ•°ï¼ˆä¸æ¨èï¼Œç²¾åº¦é—®é¢˜ï¼‰</span>

<span class="comment">// ä¸æ¨èï¼šä¸å¯æ¯”è¾ƒçš„ç±»å‹ï¼ˆsliceã€mapã€funcï¼‰</span>
<span class="comment">// m := make(map[[]int]int)  // ç¼–è¯‘é”™è¯¯</span>

<span class="comment">// å¦‚æœéœ€è¦ä½¿ç”¨å¤åˆç±»å‹ä½œä¸º keyï¼Œç¡®ä¿å®ƒæ˜¯å¯æ¯”è¾ƒçš„</span>
<span class="keyword">type</span> Point <span class="keyword">struct</span> {
    X, Y <span class="keyword">int</span>
}
m5 := <span class="function">make</span>(<span class="keyword">map</span>[Point]<span class="keyword">string</span>)</code></pre>

                <p><strong>8. é¿å… map çš„å†…å­˜æ³„æ¼ï¼š</strong></p>
                <pre><code><span class="comment">// æ¸…ç©º map</span>
<span class="keyword">for</span> key := <span class="keyword">range</span> m {
    <span class="keyword">delete</span>(m, key)
}
<span class="comment">// æˆ–è€…ç›´æ¥åˆ›å»ºæ–°çš„ map</span>
m = <span class="function">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>)

<span class="comment">// æ³¨æ„ï¼šå¦‚æœ map ä¸­å­˜å‚¨äº†å¤§é‡æ•°æ®ï¼Œå³ä½¿æ¸…ç©ºåï¼Œ</span>
<span class="comment">// åº•å±‚æ•°ç»„å¯èƒ½ä¸ä¼šè¢«ç«‹å³é‡Šæ”¾</span></code></pre>

                <p><strong>9. ä½¿ç”¨ value, ok æ¨¡å¼é¿å…é›¶å€¼æ··æ·†ï¼š</strong></p>
                <pre><code><span class="comment">// é—®é¢˜ï¼šæ— æ³•åŒºåˆ†é›¶å€¼å’Œé”®ä¸å­˜åœ¨</span>
value := m[<span class="keyword">"key"</span>]  <span class="comment">// å¦‚æœ key ä¸å­˜åœ¨ï¼Œè¿”å›é›¶å€¼</span>

<span class="comment">// è§£å†³ï¼šä½¿ç”¨ value, ok æ¨¡å¼</span>
<span class="keyword">if</span> value, ok := m[<span class="keyword">"key"</span>]; ok {
    fmt.<span class="function">Println</span>(<span class="string">"é”®å­˜åœ¨ï¼Œå€¼ä¸º:"</span>, value)
} <span class="keyword">else</span> {
    fmt.<span class="function">Println</span>(<span class="string">"é”®ä¸å­˜åœ¨"</span>)
}</code></pre>

                <p><strong>10. map çš„é›¶å€¼ï¼š</strong></p>
                <pre><code><span class="comment">// map çš„é›¶å€¼æ˜¯ nil</span>
<span class="keyword">var</span> m <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>
fmt.<span class="function">Println</span>(m == <span class="keyword">nil</span>)  <span class="comment">// true</span>
fmt.<span class="function">Println</span>(<span class="function">len</span>(m))   <span class="comment">// 0</span>

<span class="comment">// å¯ä»¥å‘ nil map è¯»å–å’Œå†™å…¥</span>
value := m[<span class="keyword">"key"</span>]  <span class="comment">// è¿”å›é›¶å€¼ï¼Œä¸ panic</span>
m[<span class="keyword">"new"</span>] = <span class="number">1</span>    <span class="comment">// è‡ªåŠ¨åˆå§‹åŒ– map</span></code></pre>
            </div>

            <h2 id="go125">Go 1.25 æ–°ç‰¹æ€§</h2>

            <h3>range over integers</h3>
            <p>Go 1.25 å¼•å…¥äº†æ•´æ•°èŒƒå›´çš„è¿­ä»£ï¼Œç®€åŒ–äº†å¾ªç¯å†™æ³•ã€‚</p>

            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> <span class="string">"fmt"</span>

<span class="function">func</span> <span class="function">main</span>() {
    <span class="comment">// ä¼ ç»Ÿæ–¹å¼</span>
    <span class="keyword">for</span> i := <span class="number">0</span>; i < <span class="number">5</span>; i++ {
        fmt.<span class="function">Println</span>(<span class="string">"ä¼ ç»Ÿ:"</span>, i)
    }

    <span class="comment">// Go 1.25 æ–°æ–¹å¼ï¼šrange over integers</span>
    <span class="keyword">for</span> i := <span class="keyword">range</span> <span class="number">5</span> {
        fmt.<span class="function">Println</span>(<span class="string">"æ–°æ–¹å¼:"</span>, i)
    }

    <span class="comment">// å¸¦èµ·å§‹å€¼</span>
    <span class="keyword">for</span> i := <span class="keyword">range</span> <span class="number">3</span> : <span class="number">7</span> {
        fmt.<span class="function">Println</span>(<span class="string">"èŒƒå›´ 3-6:"</span>, i)
    }
}</code></pre>

            <h3>æ”¹è¿›çš„ math/bits åŒ…</h3>
            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> (
    <span class="string">"fmt"</span>
    <span class="string">"math/bits"</span>
)

<span class="function">func</span> <span class="function">main</span>() {
    <span class="comment">// è®¡ç®—å‰å¯¼é›¶</span>
    x := <span class="keyword">uint</span>(<span class="number">16</span>)
    fmt.<span class="function">Println</span>(<span class="string">"å‰å¯¼é›¶:"</span>, bits.<span class="function">LeadingZeros</span>(x))

    <span class="comment">// è®¡ç®—å°¾éšé›¶</span>
    fmt.<span class="function">Println</span>(<span class="string">"å°¾éšé›¶:"</span>, bits.<span class="function">TrailingZeros</span>(x))

    <span class="comment">// è®¡ç®—è®¾ç½®ä½æ•°</span>
    fmt.<span class="function">Println</span>(<span class="string">"è®¾ç½®ä½æ•°:"</span>, bits.<span class="function">OnesCount</span>(x))
}</code></pre>

            <h3>æ–°çš„ slices åŒ…</h3>
            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> (
    <span class="string">"cmp"</span>
    <span class="string">"fmt"</span>
    <span class="string">"slices"</span>
)

<span class="function">func</span> <span class="function">main</span>() {
    numbers := []<span class="keyword">int</span>{<span class="number">5</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">1</span>, <span class="number">9</span>}

    <span class="comment">// æ’åº</span>
    slices.<span class="function">Sort</span>(numbers)
    fmt.<span class="function">Println</span>(<span class="string">"æ’åºå:"</span>, numbers)

    <span class="comment">// äºŒåˆ†æŸ¥æ‰¾</span>
    index, found := slices.<span class="function">BinarySearch</span>(numbers, <span class="number">8</span>)
    fmt.<span class="Function">Printf</span>(<span class="string">"æŸ¥æ‰¾ 8: ç´¢å¼•=%d, æ‰¾åˆ°=%v\n"</span>, index, found)

    <span class="comment">// æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨</span>
    fmt.<span class="function">Println</span>(<span class="string">"åŒ…å« 5:"</span>, slices.<span class="function">Contains</span>(numbers, <span class="number">5</span>))

    <span class="comment">// æ¯”è¾ƒåˆ‡ç‰‡</span>
    numbers2 := []<span class="keyword">int</span>{<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">9</span>}
    fmt.<span class="function">Println</span>(<span class="string">"åˆ‡ç‰‡ç›¸ç­‰:"</span>, slices.<span class="function">Equal</span>(numbers, numbers2))

    <span class="comment">// æŸ¥æ‰¾æœ€å¤§æœ€å°å€¼</span>
    fmt.<span class="function">Println</span>(<span class="string">"æœ€å°å€¼:"</span>, slices.<span class="function">Min</span>(numbers))
    fmt.<span class="function">Println</span>(<span class="string">"æœ€å¤§å€¼:"</span>, slices.<span class="function">Max</span>(numbers))

    <span class="comment">// åè½¬åˆ‡ç‰‡</span>
    slices.<span class="function">Reverse</span>(numbers)
    fmt.<span class="function">Println</span>(<span class="string">"åè½¬å:"</span>, numbers)

    <span class="comment">// ä½¿ç”¨è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°æ’åº</span>
    names := []<span class="keyword">string</span>{<span class="string">"Alice"</span>, <span class="string">"Bob"</span>, <span class="string">"Charlie"</span>}
    slices.<span class="function">SortFunc</span>(names, cmp.<span class="function">Compare</span>)
    fmt.<span class="function">Println</span>(<span class="string">"æ’åºåçš„åå­—:"</span>, names)
}</code></pre>

            <h3>æ–°çš„ maps åŒ…</h3>
            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> (
    <span class="string">"fmt"</span>
    <span class="string">"maps"</span>
)

<span class="function">func</span> <span class="function">main</span>() {
    m1 := <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>{
        <span class="string">"apple"</span>:  <span class="number">5</span>,
        <span class="string">"banana"</span>: <span class="number">3</span>,
        <span class="string">"orange"</span>: <span class="number">7</span>,
    }

    m2 := <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>{
        <span class="string">"apple"</span>:  <span class="number">5</span>,
        <span class="string">"banana"</span>: <span class="number">3</span>,
        <span class="string">"orange"</span>: <span class="number">7</span>,
    }

    <span class="comment">// æ¯”è¾ƒ map æ˜¯å¦ç›¸ç­‰</span>
    fmt.<span class="function">Println</span>(<span class="string">"map ç›¸ç­‰:"</span>, maps.<span class="function">Equal</span>(m1, m2))

    <span class="comment">// å¤åˆ¶ map</span>
    m3 := maps.<span class="function">Clone</span>(m1)
    m3[<span class="string">"grape"</span>] = <span class="number">10</span>
    fmt.<span class="function">Println</span>(<span class="string">"åŸ map:"</span>, m1)
    fmt.<span class="function">Println</span>(<span class="string">"å¤åˆ¶çš„ map:"</span>, m3)

    <span class="comment">// è·å–æ‰€æœ‰é”®</span>
    keys := maps.<span class="function">Keys</span>(m1)
    fmt.<span class="function">Println</span>(<span class="string">"æ‰€æœ‰é”®:"</span>, keys)

    <span class="comment">// è·å–æ‰€æœ‰å€¼</span>
    values := maps.<span class="function">Values</span>(m1)
    fmt.<span class="function">Println</span>(<span class="string">"æ‰€æœ‰å€¼:"</span>, values)
}</code></pre>
        </div>
    </div>
</body>
</html>