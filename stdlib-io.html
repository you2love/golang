<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>io è¾“å…¥è¾“å‡º - Go å­¦ä¹ æ•™ç¨‹</title>
    <link rel="stylesheet" href="styles.css?v=1.3">
    </head>
<body>
    <div class="container">
        <aside class="sidebar">
        <!-- å¯¼èˆªæ å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
    </aside>
                <div class="content">
            <a href="stdlib.html" class="back-link">â† è¿”å› stdlib</a>
            <h2 id="io">io è¾“å…¥è¾“å‡º</h2>

            <h3>io.Reader æ¥å£</h3>
            <p><code>io.Reader</code> æ˜¯ Go è¯­è¨€ä¸­æœ€åŸºç¡€çš„è¯»å–æ¥å£ï¼Œå®šä¹‰äº†ä»æ•°æ®æºè¯»å–æ•°æ®çš„è§„èŒƒã€‚</p>
            
            <pre><code><span class="keyword">type</span> Reader <span class="keyword">interface</span> {
    <span class="function">Read</span>(p []<span class="keyword">byte</span>) (n <span class="keyword">int</span>, err <span class="keyword">error</span>)
}</code></pre>

            <div class="info-box">
                <h3>ğŸ’¡ Reader æ¥å£è¯´æ˜</h3>
                <ul>
                    <li><strong>å‚æ•° p</strong>ï¼šç”¨äºå­˜å‚¨è¯»å–æ•°æ®çš„å­—èŠ‚åˆ‡ç‰‡</li>
                    <li><strong>è¿”å›å€¼ n</strong>ï¼šå®é™…è¯»å–çš„å­—èŠ‚æ•°ï¼ˆ0 â‰¤ n â‰¤ len(p)ï¼‰</li>
                    <li><strong>è¿”å›å€¼ err</strong>ï¼šé”™è¯¯ä¿¡æ¯ï¼Œio.EOF è¡¨ç¤ºè¯»å–ç»“æŸ</li>
                    <li><strong>è°ƒç”¨å¥‘çº¦</strong>ï¼šå³ä½¿è¯»å–åˆ°é”™è¯¯ï¼Œä¹Ÿå¯èƒ½è¿”å›éƒ¨åˆ†æ•°æ®</li>
                </ul>
            </div>

            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> (
    <span class="string">"fmt"</span>
    <span class="string">"io"</span>
    <span class="string">"strings"</span>
)

<span class="function">func</span> <span class="function">main</span>() {
    <span class="comment">// strings.Reader å®ç°äº† io.Reader æ¥å£</span>
    reader := strings.<span class="function">NewReader</span>(<span class="string">"Hello, Go!"</span>)
    
    <span class="comment">// åˆ›å»ºç¼“å†²åŒº</span>
    buf := <span class="function">make</span>([]<span class="keyword">byte</span>, <span class="number">4</span>)
    
    <span class="comment">// å¾ªç¯è¯»å–</span>
    <span class="keyword">for</span> {
        n, err := reader.<span class="function">Read</span>(buf)
        <span class="keyword">if</span> err != <span class="keyword">nil</span> {
            <span class="keyword">if</span> err == io.EOF {
                fmt.<span class="function">Println</span>(<span class="string">"è¯»å–å®Œæˆ"</span>)
            } <span class="keyword">else</span> {
                fmt.<span class="function">Println</span>(<span class="string">"é”™è¯¯:"</span>, err)
            }
            <span class="keyword">break</span>
        }
        fmt.<span class="function">Printf</span>(<span class="string">"è¯»å–äº† %d å­—èŠ‚: %s\n"</span>, n, <span class="keyword">string</span>(buf[:n]))
    }
}</code></pre>

            <h3>io.Writer æ¥å£</h3>
            <p><code>io.Writer</code> æ˜¯ Go è¯­è¨€ä¸­æœ€åŸºç¡€çš„å†™å…¥æ¥å£ï¼Œå®šä¹‰äº†å‘æ•°æ®ç›®æ ‡å†™å…¥æ•°æ®çš„è§„èŒƒã€‚</p>
            
            <pre><code><span class="keyword">type</span> Writer <span class="keyword">interface</span> {
    <span class="function">Write</span>(p []<span class="keyword">byte</span>) (n <span class="keyword">int</span>, err <span class="keyword">error</span>)
}</code></pre>

            <div class="info-box">
                <h3>ğŸ’¡ Writer æ¥å£è¯´æ˜</h3>
                <ul>
                    <li><strong>å‚æ•° p</strong>ï¼šè¦å†™å…¥çš„æ•°æ®å­—èŠ‚åˆ‡ç‰‡</li>
                    <li><strong>è¿”å›å€¼ n</strong>ï¼šå®é™…å†™å…¥çš„å­—èŠ‚æ•°ï¼ˆ0 â‰¤ n â‰¤ len(p)ï¼‰</li>
                    <li><strong>è¿”å›å€¼ err</strong>ï¼šé”™è¯¯ä¿¡æ¯ï¼Œnil è¡¨ç¤ºæˆåŠŸ</li>
                    <li><strong>è°ƒç”¨å¥‘çº¦</strong>ï¼šå³ä½¿è¿”å›é”™è¯¯ï¼Œä¹Ÿå¯èƒ½å†™å…¥éƒ¨åˆ†æ•°æ®</li>
                </ul>
            </div>

            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> (
    <span class="string">"fmt"</span>
    <span class="string">"io"</span>
    <span class="string">"os"</span>
)

<span class="function">func</span> <span class="function">main</span>() {
    <span class="comment">// os.Stdout å®ç°äº† io.Writer æ¥å£</span>
    writer := os.Stdout
    
    <span class="comment">// å†™å…¥æ•°æ®</span>
    data := []<span class="keyword">byte</span>(<span class="string">"Hello, Go!\n"</span>)
    n, err := writer.<span class="function">Write</span>(data)
    
    <span class="keyword">if</span> err != <span class="keyword">nil</span> {
        fmt.<span class="function">Println</span>(<span class="string">"å†™å…¥é”™è¯¯:"</span>, err)
    } <span class="keyword">else</span> {
        fmt.<span class="function">Printf</span>(<span class="string">"æˆåŠŸå†™å…¥ %d å­—èŠ‚\n"</span>, n)
    }
}</code></pre>

            <h3>æ¥å£ç»„åˆï¼ˆInterface Compositionï¼‰</h3>
            <p>Go è¯­è¨€é€šè¿‡æ¥å£ç»„åˆæ¥åˆ›å»ºæ›´å¼ºå¤§çš„æ¥å£ã€‚io åŒ…å®šä¹‰äº†å¤šä¸ªç»„åˆæ¥å£ï¼Œå°† Reader å’Œ Writer ä¸å…¶ä»–æ¥å£ç»„åˆã€‚</p>

            <table>
                <caption>io åŒ…ä¸­çš„ç»„åˆæ¥å£</caption>
                <thead>
                    <tr>
                        <th>æ¥å£</th>
                        <th>ç»„åˆæ–¹å¼</th>
                        <th>è¯´æ˜</th>
                        <th>å…¸å‹å®ç°</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>io.ReadWriter</strong></td>
                        <td>Reader + Writer</td>
                        <td>å¯è¯»å¯å†™</td>
                        <td>net.Conn, os.File</td>
                    </tr>
                    <tr>
                        <td><strong>io.ReadCloser</strong></td>
                        <td>Reader + Closer</td>
                        <td>å¯è¯»å¯å…³é—­</td>
                        <td>os.File, http.Response.Body</td>
                    </tr>
                    <tr>
                        <td><strong>io.WriteCloser</strong></td>
                        <td>Writer + Closer</td>
                        <td>å¯å†™å¯å…³é—­</td>
                        <td>os.File, http.Request.Body</td>
                    </tr>
                    <tr>
                        <td><strong>io.ReadWriteCloser</strong></td>
                        <td>Reader + Writer + Closer</td>
                        <td>å¯è¯»å¯å†™å¯å…³é—­</td>
                        <td>net.Conn, os.File</td>
                    </tr>
                    <tr>
                        <td><strong>io.Seeker</strong></td>
                        <td>ç‹¬ç«‹æ¥å£</td>
                        <td>å¯å®šä½è¯»å†™ä½ç½®</td>
                        <td>os.File, bytes.Reader</td>
                    </tr>
                    <tr>
                        <td><strong>io.ReadSeeker</strong></td>
                        <td>Reader + Seeker</td>
                        <td>å¯è¯»å¯å®šä½</td>
                        <td>os.File, bytes.Reader</td>
                    </tr>
                    <tr>
                        <td><strong>io.WriteSeeker</strong></td>
                        <td>Writer + Seeker</td>
                        <td>å¯å†™å¯å®šä½</td>
                        <td>os.File</td>
                    </tr>
                    <tr>
                        <td><strong>io.ReadWriteSeeker</strong></td>
                        <td>Reader + Writer + Seeker</td>
                        <td>å¯è¯»å¯å†™å¯å®šä½</td>
                        <td>os.File</td>
                    </tr>
                </tbody>
            </table>

            <div class="flowchart">
                <div class="flowchart-node">Reader</div>
                <span class="flowchart-arrow">+</span>
                <div class="flowchart-node">Writer</div>
                <span class="flowchart-arrow">â†’</span>
                <div class="flowchart-node">ReadWriter</div>
                <br><br>
                <div class="flowchart-node">Reader</div>
                <span class="flowchart-arrow">+</span>
                <div class="flowchart-node">Closer</div>
                <span class="flowchart-arrow">â†’</span>
                <div class="flowchart-node">ReadCloser</div>
                <br><br>
                <div class="flowchart-node">Reader</div>
                <span class="flowchart-arrow">+</span>
                <div class="flowchart-node">Writer</div>
                <span class="flowchart-arrow">+</span>
                <div class="flowchart-node">Closer</div>
                <span class="flowchart-arrow">â†’</span>
                <div class="flowchart-node">ReadWriteCloser</div>
            </div>

            <div class="success-box">
                <h3>âœ… æ¥å£ç»„åˆçš„ä¼˜åŠ¿</h3>
                <ul>
                    <li><strong>çµæ´»æ€§</strong>ï¼šå¯ä»¥æ ¹æ®éœ€è¦ç»„åˆä¸åŒçš„æ¥å£</li>
                    <li><strong>ç±»å‹å®‰å…¨</strong>ï¼šç¼–è¯‘æ—¶æ£€æŸ¥æ¥å£å®ç°</li>
                    <li><strong>ä»£ç å¤ç”¨</strong>ï¼šé¿å…é‡å¤å®šä¹‰ç›¸ä¼¼çš„åŠŸèƒ½</li>
                    <li><strong>å‘åå…¼å®¹</strong>ï¼šå¯ä»¥è½»æ¾æ‰©å±•ç°æœ‰æ¥å£</li>
                </ul>
            </div>

            <h3>è‡ªå®šä¹‰ç»„åˆæ¥å£</h3>
            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> (
    <span class="string">"fmt"</span>
    <span class="string">"io"</span>
)

<span class="comment">// è‡ªå®šä¹‰ç»„åˆæ¥å£</span>
<span class="keyword">type</span> FileHandler <span class="keyword">interface</span> {
    io.Reader
    io.Writer
    io.Closer
    <span class="function">Name</span>() <span class="keyword">string</span>
}

<span class="keyword">type</span> MyFile <span class="keyword">struct</span> {
    name <span class="keyword">string</span>
    data []<span class="keyword">byte</span>
    pos  <span class="keyword">int</span>
}

<span class="keyword">func</span> (f *MyFile) <span class="function">Read</span>(p []<span class="keyword">byte</span>) (n <span class="keyword">int</span>, err <span class="keyword">error</span>) {
    <span class="keyword">if</span> f.pos >= <span class="function">len</span>(f.data) {
        <span class="keyword">return</span> <span class="number">0</span>, io.EOF
    }
    n = <span class="function">copy</span>(p, f.data[f.pos:])
    f.pos += n
    <span class="keyword">return</span> n, <span class="keyword">nil</span>
}

<span class="keyword">func</span> (f *MyFile) <span class="function">Write</span>(p []<span class="keyword">byte</span>) (n <span class="keyword">int</span>, err <span class="keyword">error</span>) {
    f.data = <span class="function">append</span>(f.data, p...)
    <span class="keyword">return</span> <span class="function">len</span>(p), <span class="keyword">nil</span>
}

<span class="keyword">func</span> (f *MyFile) <span class="function">Close</span>() <span class="keyword">error</span> {
    fmt.<span class="function">Printf</span>(<span class="string">"File %s closed\n"</span>, f.name)
    <span class="keyword">return</span> <span class="keyword">nil</span>
}

<span class="keyword">func</span> (f *MyFile) <span class="function">Name</span>() <span class="keyword">string</span> {
    <span class="keyword">return</span> f.name
}

<span class="function">func</span> <span class="function">processFile</span>(handler FileHandler) <span class="keyword">error</span> {
    fmt.<span class="function">Printf</span>(<span class="string">"Processing file: %s\n"</span>, handler.<span class="function">Name</span>())
    
    <span class="comment">// å†™å…¥æ•°æ®</span>
    _, err := handler.<span class="function">Write</span>([]<span class="keyword">byte</span>(<span class="string">"Hello, World!"</span>))
    <span class="keyword">if</span> err != <span class="keyword">nil</span> {
        <span class="keyword">return</span> err
    }
    
    <span class="comment">// è¯»å–æ•°æ®</span>
    buf := <span class="function">make</span>([]<span class="keyword">byte</span>, <span class="number">100</span>)
    n, err := handler.<span class="function">Read</span>(buf)
    <span class="keyword">if</span> err != <span class="keyword">nil</span> && err != io.EOF {
        <span class="keyword">return</span> err
    }
    fmt.<span class="function">Printf</span>(<span class="string">"Read: %s\n"</span>, <span class="keyword">string</span>(buf[:n]))
    
    <span class="comment">// å…³é—­æ–‡ä»¶</span>
    <span class="keyword">return</span> handler.<span class="function">Close</span>()
}

<span class="function">func</span> <span class="function">main</span>() {
    file := &MyFile{
        name: <span class="string">"test.txt"</span>,
        data: []<span class="keyword">byte</span>(<span class="string">"Initial content"</span>),
    }
    
    err := <span class="function">processFile</span>(file)
    <span class="keyword">if</span> err != <span class="keyword">nil</span> {
        fmt.<span class="function">Println</span>(<span class="string">"Error:"</span>, err)
    }
}</code></pre>

            <h3>æ¥å£ç»„åˆçš„å®é™…åº”ç”¨</h3>
            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> (
    <span class="string">"bytes"</span>
    <span class="string">"fmt"</span>
    <span class="string">"io"</span>
)

<span class="comment">// é€šç”¨çš„æ•°æ®å¤„ç†å™¨</span>
<span class="function">func</span> <span class="function">processData</span>(r io.Reader, w io.Writer) <span class="keyword">error</span> {
    <span class="comment">// ä» Reader è¯»å–æ•°æ®</span>
    data, err := io.<span class="function">ReadAll</span>(r)
    <span class="keyword">if</span> err != <span class="keyword">nil</span> {
        <span class="keyword">return</span> err
    }
    
    <span class="comment">// å¤„ç†æ•°æ®ï¼ˆè½¬æ¢ä¸ºå¤§å†™ï¼‰</span>
    <span class="keyword">for</span> i := <span class="keyword">range</span> data {
        <span class="keyword">if</span> data[i] >= <span class="string">'a'</span> && data[i] <= <span class="string">'z'</span> {
            data[i] -= <span class="number">32</span>
        }
    }
    
    <span class="comment">// å†™å…¥åˆ° Writer</span>
    _, err = w.<span class="function">Write</span>(data)
    <span class="keyword">return</span> err
}

<span class="function">func</span> <span class="function">main</span>() {
    <span class="comment">// ä½¿ç”¨ bytes.Buffer ä½œä¸º Reader å’Œ Writer</span>
    input := bytes.<span class="function">NewBufferString</span>(<span class="string">"hello, world!"</span>)
    output := &bytes.Buffer{}
    
    <span class="comment">// å¤„ç†æ•°æ®</span>
    err := <span class="function">processData</span>(input, output)
    <span class="keyword">if</span> err != <span class="keyword">nil</span> {
        fmt.<span class="function">Println</span>(<span class="string">"Error:"</span>, err)
        <span class="keyword">return</span>
    }
    
    fmt.<span class="function">Println</span>(<span class="string">"Input:"</span>, input.<span class="function">String</span>())
    fmt.<span class="function">Println</span>(<span class="string">"Output:"</span>, output.<span class="function">String</span>())
}</code></pre>

            <div class="warning-box">
                <h3>âš ï¸ æ¥å£ä½¿ç”¨æ³¨æ„äº‹é¡¹</h3>
                <ul>
                    <li><strong>æ¥å£æ˜¯éšå¼å®ç°çš„</strong>ï¼šä¸éœ€è¦æ˜¾å¼å£°æ˜å®ç°æŸä¸ªæ¥å£</li>
                    <li><strong>æ¥å£å€¼æ˜¯ nil å®‰å…¨çš„</strong>ï¼šè°ƒç”¨ nil æ¥å£çš„æ–¹æ³•ä¼š panic</li>
                    <li><strong>æ¥å£ç»„åˆæ˜¯ç±»å‹å®‰å…¨çš„</strong>ï¼šç¼–è¯‘æ—¶ä¼šæ£€æŸ¥æ‰€æœ‰æ–¹æ³•æ˜¯å¦å®ç°</li>
                    <li><strong>é¿å…è¿‡åº¦ç»„åˆ</strong>ï¼šæ¥å£åº”è¯¥å°è€Œä¸“æ³¨ï¼Œéµå¾ªæœ€å°æ¥å£åŸåˆ™</li>
                    <li><strong>æ–‡æ¡£åŒ–æ¥å£å¥‘çº¦</strong>ï¼šæ¸…æ™°è¯´æ˜æ¥å£çš„è¡Œä¸ºå’Œçº¦æŸ</li>
                </ul>
            </div>

            <h3>è¯»å–æ–‡ä»¶</h3>
            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> (
    <span class="string">"fmt"</span>
    <span class="string">"io"</span>
    <span class="string">"os"</span>
)

<span class="function">func</span> <span class="function">main</span>() {
    <span class="comment">// æ‰“å¼€æ–‡ä»¶</span>
    file, err := os.<span class="function">Open</span>(<span class="string">"test.txt"</span>)
    <span class="keyword">if</span> err != <span class="keyword">nil</span> {
        fmt.<span class="function">Println</span>(<span class="string">"Error:"</span>, err)
        <span class="keyword">return</span>
    }
    <span class="keyword">defer</span> file.<span class="function">Close</span>()
    
    <span class="comment">// è¯»å–æ•´ä¸ªæ–‡ä»¶</span>
    data, err := io.<span class="function">ReadAll</span>(file)
    <span class="keyword">if</span> err != <span class="keyword">nil</span> {
        fmt.<span class="function">Println</span>(<span class="string">"Error:"</span>, err)
        <span class="keyword">return</span>
    }
    fmt.<span class="function">Println</span>(<span class="string">"File content:"</span>, <span class="keyword">string</span>(data))
}</code></pre>

            <h3>å†™å…¥æ–‡ä»¶</h3>
            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> (
    <span class="string">"fmt"</span>
    <span class="string">"os"</span>
)

<span class="function">func</span> <span class="function">main</span>() {
    <span class="comment">// å†™å…¥æ–‡ä»¶ï¼ˆè¦†ç›–ï¼‰</span>
    err := os.<span class="function">WriteFile</span>(<span class="string">"output.txt"</span>, []<span class="keyword">byte</span>(<span class="string">"Hello, World!"</span>), <span class="number">0644</span>)
    <span class="keyword">if</span> err != <span class="keyword">nil</span> {
        fmt.<span class="function">Println</span>(<span class="string">"Error:"</span>, err)
        <span class="keyword">return</span>
    }
    
    <span class="comment">// è¿½åŠ å†™å…¥</span>
    f, err := os.<span class="function">OpenFile</span>(<span class="string">"output.txt"</span>, os.O_APPEND|os.O_WRONLY, <span class="number">0644</span>)
    <span class="keyword">if</span> err != <span class="keyword">nil</span> {
        fmt.<span class="function">Println</span>(<span class="string">"Error:"</span>, err)
        <span class="keyword">return</span>
    }
    <span class="keyword">defer</span> f.<span class="function">Close</span>()
    
    _, err = f.<span class="function">WriteString</span>(<span class="string">"\nAppended text"</span>)
    <span class="keyword">if</span> err != <span class="keyword">nil</span> {
        fmt.<span class="function">Println</span>(<span class="string">"Error:"</span>, err)
    }
}</code></pre>

            <h3>è¯»å–ç›®å½•</h3>
            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> (
    <span class="string">"fmt"</span>
    <span class="string">"os"</span>
)

<span class="function">func</span> <span class="function">main</span>() {
    <span class="comment">// è¯»å–ç›®å½•å†…å®¹</span>
    entries, err := os.<span class="function">ReadDir</span>(<span class="string">"."</span>)
    <span class="keyword">if</span> err != <span class="keyword">nil</span> {
        fmt.<span class="function">Println</span>(<span class="string">"Error:"</span>, err)
        <span class="keyword">return</span>
    }
    
    <span class="keyword">for</span> _, entry := <span class="keyword">range</span> entries {
        fmt.<span class="function">Printf</span>(<span class="string">"%s (%v)\n"</span>, entry.<span class="function">Name</span>(), entry.<span class="function">IsDir</span>())
    }
}</code></pre>

            <h3>åˆ›å»ºå’Œåˆ é™¤æ–‡ä»¶/ç›®å½•</h3>
            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> (
    <span class="string">"fmt"</span>
    <span class="string">"os"</span>
)

<span class="function">func</span> <span class="function">main</span>() {
    <span class="comment">// åˆ›å»ºç›®å½•</span>
    err := os.<span class="function">MkdirAll</span>(<span class="string">"testdir/subdir"</span>, <span class="number">0755</span>)
    <span class="keyword">if</span> err != <span class="keyword">nil</span> {
        fmt.<span class="function">Println</span>(<span class="string">"Error:"</span>, err)
    }
    
    <span class="comment">// åˆ›å»ºæ–‡ä»¶</span>
    file, err := os.<span class="function">Create</span>(<span class="string">"testdir/test.txt"</span>)
    <span class="keyword">if</span> err != <span class="keyword">nil</span> {
        fmt.<span class="function">Println</span>(<span class="string">"Error:"</span>, err)
    }
    file.<span class="function">Close</span>()
    
    <span class="comment">// åˆ é™¤æ–‡ä»¶</span>
    os.<span class="function">Remove</span>(<span class="string">"testdir/test.txt"</span>)
    
    <span class="comment">// åˆ é™¤ç›®å½•</span>
    os.<span class="function">RemoveAll</span>(<span class="string">"testdir"</span>)
}</code></pre>

            <h3>ä½¿ç”¨ io.Copy</h3>
            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> (
    <span class="string">"io"</span>
    <span class="string">"os"</span>
)

<span class="function">func</span> <span class="function">copyFile</span>(src, dst <span class="keyword">string</span>) <span class="keyword">error</span> {
    source, err := os.<span class="function">Open</span>(src)
    <span class="keyword">if</span> err != <span class="keyword">nil</span> {
        <span class="keyword">return</span> err
    }
    <span class="keyword">defer</span> source.<span class="function">Close</span>()
    
    destination, err := os.<span class="function">Create</span>(dst)
    <span class="keyword">if</span> err != <span class="keyword">nil</span> {
        <span class="keyword">return</span> err
    }
    <span class="keyword">defer</span> destination.<span class="function">Close</span>()
    
    _, err = io.<span class="function">Copy</span>(destination, source)
    <span class="keyword">return</span> err
}</code></pre>

            <h3>ä½¿ç”¨ io.LimitReader</h3>
            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> (
    <span class="string">"fmt"</span>
    <span class="string">"io"</span>
    <span class="string">"strings"</span>
)

<span class="function">func</span> <span class="function">main</span>() {
    reader := strings.<span class="function">NewReader</span>(<span class="string">"Hello, World! This is a long string."</span>)
    
    <span class="comment">// é™åˆ¶è¯»å– 5 ä¸ªå­—èŠ‚</span>
    limitedReader := io.<span class="function">LimitReader</span>(reader, <span class="number">5</span>)
    
    data, _ := io.<span class="function">ReadAll</span>(limitedReader)
    fmt.<span class="function">Println</span>(<span class="string">"Limited read:"</span>, <span class="keyword">string</span>(data))
}</code></pre>

            
        </div>
    </div>
<script src="code-collapse.js"></script>

</body>
    <script src="navigation.js"></script>
</html>