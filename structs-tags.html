<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>结构体标签 - Go 学习教程</title>
    <link rel="stylesheet" href="styles.css?v=1.4">
    </head>
<body>
    <div class="container">
        <aside class="sidebar">
        <!-- 导航栏将通过JavaScript动态加载 -->
    </aside>
                <div class="content">
            <a href="structs.html" class="back-link">← 返回 structs</a>
            <h2 id="tags">结构体标签</h2>
            <pre><code><span class="keyword">package</span> main

<span class="keyword">import</span> (
    <span class="string">"encoding/json"</span>
    <span class="string">"fmt"</span>
    <span class="string">"reflect"</span>
)

<span class="keyword">type</span> User <span class="keyword">struct</span> {
    ID       <span class="keyword">int</span>    `json:"id"`
    Name     <span class="keyword">string</span> `json:"name"`
    Email    <span class="keyword">string</span> `json:"email"`
    Password <span class="keyword">string</span> `json:"-"` <span class="comment">// 不进行 JSON 序列化</span>
}

<span class="function">func</span> <span class="function">main</span>() {
    user := User{
        ID:       <span class="number">1</span>,
        Name:     <span class="string">"张三"</span>,
        Email:    <span class="string">"zhangsan@example.com"</span>,
        Password: <span class="string">"secret"</span>,
    }

    <span class="comment">// JSON 序列化</span>
    jsonData, _ := json.<span class="function">Marshal</span>(user)
    fmt.<span class="function">Println</span>(<span class="string">"JSON:"</span>, <span class="keyword">string</span>(jsonData))

    <span class="comment">// 反射获取标签</span>
    t := reflect.<span class="function">TypeOf</span>(user)
    <span class="keyword">for</span> i := <span class="number">0</span>; i < t.<span class="function">NumField</span>(); i++ {
        field := t.<span class="function">Field</span>(i)
        fmt.<span class="function">Printf</span>(<span class="string">"字段: %s, 标签: %s\n"</span>, field.Name, field.Tag.<span class="function">Get</span>(<span class="string">"json"</span>))
    }
}</code></pre>
        
        </div>
    </div>
<script src="code-collapse.js"></script>

</body>
    <script src="navigation.js"></script>
</html>